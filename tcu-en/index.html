<!doctype html>
<html lang="fr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="icon" href="favicon.png" type="image/x-icon">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/iconoir-icons/iconoir@main/css/iconoir.css" />
  <title>RepAccess - Terms and Conditions of Use</title>

  <style>
    
    @font-face {
      font-family: 'Ted Next';
      src: url('https://raw.githubusercontent.com/rogersrepaccess/repaccess-fr/main/fonts/TedNext-Regular.woff') format('woff');
      font-weight: normal;
      font-style: normal;
    }

    @font-face {
      font-family: 'Ted Next';
      src: url('https://raw.githubusercontent.com/rogersrepaccess/repaccess-fr/main/fonts/TedNext-Italic.woff') format('woff');
      font-weight: normal;
      font-style: italic;
    }

    @font-face {
      font-family: 'Ted Next';
      src: url('https://raw.githubusercontent.com/rogersrepaccess/repaccess-fr/main/fonts/TedNext-Semibold.woff') format('woff');
      font-weight: bold;
      font-style: normal;
    }

    @font-face {
      font-family: 'Ted Next';
      src: url('https://raw.githubusercontent.com/rogersrepaccess/repaccess-fr/main/fonts/TedNext-SemiBoldItalic.woff') format('woff');
      font-weight: bold;
      font-style: italic;
    }

    @font-face {
      font-family: 'Ted Next';
      src: url('https://raw.githubusercontent.com/rogersrepaccess/repaccess-fr/main/fonts/TedNext-Bold.woff') format('woff');
      font-weight: 800;
      font-style: normal;
    }

    @font-face {
      font-family: 'Ted Next';
      src: url('https://raw.githubusercontent.com/rogersrepaccess/repaccess-fr/main/fonts/TedNext-BoldItalic.woff') format('woff');
      font-weight: 800;
      font-style: italic;
    }

    @font-face {
      font-family: 'Ted Next';
      src: url('https://raw.githubusercontent.com/rogersrepaccess/repaccess-fr/main/fonts/TedNext-Light.woff') format('woff');
      font-weight: lighter;
      font-style: normal;
    }

    @font-face {
      font-family: 'Ted Next';
      src: url('https://raw.githubusercontent.com/rogersrepaccess/repaccess-fr/main/fonts/TedNext-LightItalic.woff') format('woff');
      font-weight: lighter;
      font-style: italic;
    }

    @font-face {
      font-family: 'Ted Next Condensed';
      src: url('https://raw.githubusercontent.com/rogersrepaccess/repaccess-fr/main/fonts/TedNext-Condensed.woff') format('woff');
      font-weight: normal;
      font-style: normal;
    }

    :root{
      --bg: #0b1220;
      --card: rgba(255,255,255,0.06);
      --card2: rgba(255,255,255,0.08);
      --text: rgba(255,255,255,0.92);
      --muted: rgba(255,255,255,0.68);
      --stroke: rgba(255,255,255,0.12);
      --radius: 18px;
      --footer: rgba(255,255,255,0.0);
    }

    *{ box-sizing:border-box; }
    body{
      margin:0;
      font-family: Ted Next;
      background:
      radial-gradient(1200px 600px at 20% 0%, rgba(64,120,255,0.18), transparent 55%),
      radial-gradient(900px 500px at 100% 30%, rgba(255,70,170,0.14), transparent 55%),
      var(--bg);
      color: var(--text);
    }

    .wrap{
      max-width: 1200px;
      margin: 0 auto;
      padding: 28px 18px 56px;
    }

    header{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:16px;
      margin-bottom:18px;
      border: 0px solid silver;
    }

    .headerLogoImage{
      width: 150px;
    }

    .brand{
      display:flex;
      flex-direction:column;
      gap:6px;
      border: 0px solid pink;
      width: 70%;
    }

    h1{
      font-size: 28px;
      margin:0;
      letter-spacing:0.2px;
    }

    .hint{
      color: var(--muted);
      font-size: 13px;
    }

    .meta{
      display: none;
      font-size: 13px;
      color: var(--muted);
      text-align:right;
      line-height:1.35;
    }

    /* --- Section cards --- */
    .section{
      background: linear-gradient(180deg, var(--card), transparent 140%);
      border: 1px solid var(--stroke);
      border-radius: var(--radius);
      padding: 18px;
      margin-top: 16px;
      box-shadow: 0 18px 40px rgba(0,0,0,0.25);
      backdrop-filter: blur(10px);
    }

    .section-title{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap: 12px;
      margin: 0 0 14px 0;
    }

    .section-title h2{
      margin:0;
      font-size: 18px;
      letter-spacing:0.2px;
    }

    .empty{
      color: var(--muted);
      font-size: 13px;
      padding: 10px 2px 2px;
    }

    /* --- Grids --- */
    .grid6{
      display:grid;
      grid-template-columns: repeat(6, minmax(0, 1fr));
      gap: 12px;
    }

    @media (max-width: 1100px){
      .grid6{ grid-template-columns: repeat(3, minmax(0, 1fr)); }
    }

    @media (max-width: 650px){
      .grid6{ grid-template-columns: repeat(2, minmax(0, 1fr)); }
    }

    /* --- Default Buttons (sections 2/3/5 + modal) --- */
    .btn{
      display:flex;
      align-items:center;
      gap: 12px;
      width:100%;
      text-decoration:none;
      color: var(--text);
      background: rgba(255,255,255,0.06);
      border: 1px solid rgba(255,255,255,0.14);
      border-radius: 16px;
      transition: transform .12s ease, background .12s ease, border-color .12s ease;
      user-select:none;
    }

    .btn:hover{
      transform: translateY(-1px);
      background: rgba(255,255,255,0.085);
      border-color: rgba(255,255,255,0.20);
    }

    .btn:active{ transform: translateY(0px) scale(0.99); }
    .btn .icon{
      width: 44px;
      height: 44px;
      flex: 0 0 44px;
      border-radius: 0px;
      background: none;
      display:flex;
      align-items:center;
      justify-content:center;
      overflow:hidden;
    }

    .btn .icon img{
      width: 100%;
      height: 100%;
      object-fit: cover;
    }

    .btn .label{
      font-weight: 650;
      letter-spacing:0.1px;
      line-height:1.15;
      font-size: 14px;
    }

    .btn-large{ padding: 16px 14px; min-height: 78px; }
    .btn-large .icon{ width: 52px; height:52px; flex-basis:52px; border-radius: 0px; }
    .btn-large .label{ font-size: 15px; }
    .btn-medium{ padding: 12px 12px; min-height: 64px; }
    .btn-quick{ padding: 10px 12px; min-height: 56px; }
    .btn-quick .icon{ height:40px; width: 40px; border-radius: 0px; border: 0px solid red; padding: 5px;}
    .btn-quick .icon img{ height:35px; width: 35px;}
    .btn-quick .label{ font-size: 13.5px; }
    /* --- NEW: Section 1 "Outils" buttons (image + bottom title bar) --- */
    .toolCard{
      display:flex;
      flex-direction:column;
      width:100%;
      text-decoration:none;
      border-radius: 20px;
      overflow:hidden;
      border: 1px solid rgba(255,255,255,0.14);
      background: rgba(255,255,255,0.06);
      box-shadow: 0 18px 40px rgba(0,0,0,0.22);
      transition: transform .12s ease, border-color .12s ease, background .12s ease;
      user-select:none;
      height: 150px;
    }

    .toolCard:hover{
      transform: translateY(-1px);
      border-color: rgba(255,255,255,0.22);
      background: rgba(255,255,255,0.075);
      opacity: 0.85;
    }

    .toolCard:active{ transform: translateY(0px) scale(0.99); }
    .toolCardMedia{
      /* prend tout lÔøΩÔøΩÔøΩespace restant dans la carte */
      flex: 1 1 auto;
      /* hauteur constante de l'image (reste constant puisque le titre est fixe) */
      min-height: 90px;            /* ajuste au besoin */
      background: rgba(80,220,230,0.20);
      position: relative;
    }

    .toolCardMedia img{
      position:absolute;
      inset:0;
      width:100%;
      height:100%;
      object-fit: cover;
    }

    .toolCardTitle{
      /* hauteur constante du bandeau de titre */
      height: 86px;                 /* ajuste si tu veux plus/moins haut */
      padding: 10px 18px 20px;
      background: #f0f0f0;
      color: #0b0b0b;
      font-weight: 900;
      font-size: 16px;
      line-height: 1.05;
      letter-spacing: 0.2px;
      /* forcer le texte ÔøΩÔøΩ max 2 lignes, sans changer la hauteur */
      display: -webkit-box;
      -webkit-box-orient: vertical;
      -webkit-line-clamp: 2;        /* max 2 lignes */
      overflow: hidden;
    }

    .toolCardDisabled{
      opacity: 0.55;
      pointer-events:none;
    }

    /* --- Section 3: two columns --- */
    .twoCols{
      display:grid;
      grid-template-columns: 1fr 1fr;
      gap: 14px;
    }

    @media (max-width: 900px){
      .twoCols{ grid-template-columns: 1fr; }
    }

    .subsection{
      background: linear-gradient(180deg, var(--card2), transparent 160%);
      border: 1px solid var(--stroke);
      border-radius: 16px;
      padding: 14px;
    }

    #quickRogersTitle{
      margin-bottom: 10px;
    }

    #quickFidoTitle{
      margin-bottom: 10px;
    }

    .subsection-rogers{
      background: linear-gradient(360deg,rgba(255, 255, 255, 0) 0%, rgba(218, 41, 28, 0.18) 100%);
      border: 1px solid var(--stroke);
      border-radius: 16px;
      padding: 14px;
    }

    .subsection-fido{
      background: linear-gradient(360deg,rgba(255, 255, 255, 0) 0%, rgba(0, 175, 171, 0.18) 100%);
      border: 1px solid var(--stroke);
      border-radius: 16px;
      padding: 14px;
    }

    .subsection h3{
      margin: 0 0 10px 0;
      font-size: 15px;
      letter-spacing:0.15px;
    }

    .stack{
      display:grid;
      gap: 10px;
    }

    .rfIcon{
      height: 25px;
    }

    /* --- Section 0: Store lookup (header) --- */
    .storeLookup{
      display:flex;
      flex-direction:column;
      align-items:flex-end;
      gap:6px;
      min-width: 160px;
      border: 0px solid lime;
    }

    .storeRow{
      display:flex;
      align-items:center;
      gap:10px;
    }

    .storeLabel{
      font-size: 12.5px;
      color: var(--muted);
      white-space:nowrap;
    }

    .storeLabelIcon{
      width: 60px;
      margin-right: -5px;
    }

    .storeInput{
      width: 100px;
      height: 35px;
      padding-left: 10px;
      font-size: 20px;
      border-radius: 10px;
      border: 1px solid rgba(255,255,255,0.18);
      background: rgba(255,255,255,0.06);
      color: rgba(255,255,255,0.92);
      outline: none;
      font-family: Ted Next;
    }

    .storeInput::placeholder{ color: rgba(255,255,255,0.35); }
    .storeInput.error{
      border-color: rgba(255,80,80,0.90);
      box-shadow: 0 0 0 3px rgba(255,80,80,0.25);
    }

    .storeError{
      font-size:12px;
      color: rgba(255,130,130,0.95);
    }

    /* --- Modal --- */
    .modalBackdrop{
      position: fixed;
      inset: 0;
      background: rgba(0,0,0,0.55);
      display:flex;
      align-items:center;
      justify-content:center;
      padding: 18px;
      z-index: 9999;
    }

    .modalCard{
      width: min(920px, 100%);
      border-radius: 18px;
      border: 1px solid rgba(255,255,255,0.14);
      background: rgba(15,22,38,0.92);
      backdrop-filter: blur(12px);
      box-shadow: 0 30px 80px rgba(0,0,0,0.45);
    }

    .modalHeader{
      display:flex;
      align-items:center;
      justify-content:space-between;
      padding: 14px 14px 10px;
      border-bottom: 1px solid rgba(255,255,255,0.10);
    }

    .modalTitle{
      font-weight: 800;
      letter-spacing:0.2px;
    }

    .modalClose{
      border: 1px solid rgba(255,255,255,0.18);
      background: rgba(255,255,255,0.06);
      color: rgba(255,255,255,0.9);
      border-radius: 12px;
      padding: 6px 10px;
      cursor:pointer;
    }

    .modalBody{ padding: 14px; }
    /* ÔøΩÔøΩÔøΩ NEW: Store modal grid (3-wide, centered if ÔøΩÔøΩÔøΩ) */
    .storeModalGrid{
      display:grid;
      gap: 12px;
      grid-template-columns: repeat(3, minmax(0, 1fr));
      justify-content:center;   /* centre la grille si elle ne remplit pas */
      align-content:start;
      justify-items:stretch;    /* chaque bouton prend la largeur de sa colonne */
    }

    /* Largeur "constante" des colonnes, mÔøΩÔøΩme si 1 ou 2 boutons */
    .storeModalGrid.cols-1,
    .storeModalGrid.cols-2,
    .storeModalGrid.cols-3{
      grid-template-columns: repeat(3, minmax(0, 1fr));
    }

    /* On limite la largeur totale du groupe ÔøΩÔøΩ 3 colonnes + gaps, puis on centre */
    .storeModalGrid{
      max-width: 840px;
      margin: 0 auto;           /* centre horizontalement */
    }

    @media (max-width: 900px){
      .storeModalGrid{
        grid-template-columns: repeat(2, minmax(0, 1fr));
        max-width: 620px;
      }
      .storeModalGrid.cols-1,
      .storeModalGrid.cols-2,
      .storeModalGrid.cols-3{
        grid-template-columns: repeat(2, minmax(0, 1fr));
      }
    }

    @media (max-width: 520px){
      .storeModalGrid{
        grid-template-columns: 1fr;
        max-width: 360px;
      }
      .storeModalGrid.cols-1,
      .storeModalGrid.cols-2,
      .storeModalGrid.cols-3{
        grid-template-columns: 1fr;
      }
    }

    /* --- Section 4: Competition --- */
    .competitionGrid{
      display:grid;
      gap: 12px;
    }

    .compCard{
      border: 1px solid rgba(255,255,255,0.12);
      background: rgba(255,255,255,0.05);
      border-radius: 10px;
      padding: 12px;
    }

    .compHeader{
      display:flex;
      align-items:center;
      gap:10px;
      margin-bottom: 10px;
    }

    .compLogo{
      height: 28px;
      width: auto;
      max-width: 130px;
      object-fit: contain;
      display:block;
      filter: drop-shadow(0 10px 16px rgba(0,0,0,0.25));
    }

    .compTitle{
      display:none;
      font-weight: 800;
      font-size: 14px;
      letter-spacing:0.15px;
      line-height:1.1;
    }

    .compBtns{
      display:grid;
      gap:10px;
    }

    .btnTextOnly{
      padding: 10px 12px;
      min-height: 40px;
      justify-content:center;
      text-align:center;
    }

    .btnTextOnly .label{
      font-size: 13.5px;
      font-weight: 750;
    }

    /* --- Section 5: Reports --- */
    .badgeNum{
      width: 44px;
      height: 44px;
      flex:0 0 44px;
      border-radius: 14px;
      background: rgba(255,255,255,0.10);
      border: 1px solid rgba(255,255,255,0.14);
      display:flex;
      align-items:center;
      justify-content:center;
      font-weight: 900;
      letter-spacing:0.3px;
    }

    /* --- Section 5: style des boutons "Rapports" --- */
    .reportBtn{
      border-radius: 18px;                 /* coins */
      background: #4e148c;  /* fond */
      border: 1px solid rgba(255,255,255,0.18);
      min-height: 60px;                    /* hauteur */
    }

    .reportBtn:hover{
      background: #2a084f;
      border-color: rgba(255,255,255,0.26);
    }

    .languageBtn{
      background-color: none;
      color: white;
      width: 100px;
      text-align: center;
      text-decoration: none;
      display: inline-block;
      border: 0px solid cyan;
    }

    #languageBtnElement{
      background-color: #f0f0f0;
      color: #0b1220;
      width: 100px;
      height: 35px;
      border-radius: 10px;
      line-height: 35px;
      text-align: center;
      text-decoration: none;
      display: inline-block;
      border: 0px solid cyan;
      font-weight: bold;
      transition-duration: 150ms;
    }

    #languageBtnElement:hover{
      opacity: 0.85;
    }

    .footer{
      background: none;
      border-top: 1px solid #ffffff1f;
      border-radius: 0px;
      padding-top: 18px;
      margin-top: 40px;
    }

    .footerDiv{
      display: flex;
      flex-direction: row;
      color: white;
    }

    .footerRow2{
      display: flex;
      flex-direction: row;
      width: 100%;
      color: white;
      font-style: italic;
      margin-top: 25px;
      opacity: 0.65;
      text-align: center;
      justify-content: center;
    }

    .footerLink1{
      display: flex;
      flex-direction: column;
      width: 20%;
    }

    .footerLink{
      display: flex;
      flex-direction: column;
      width: 20%;
      text-align: center;
    }

    .editBtn{
      display: flex;
      flex-direction: column;
      width: 20%;
      text-align: right;
    }

    #editBtnElement{
      background-color: #f0f0f0;
      color: #0b1220;
      width: 100px;
      height: 35px;
      border-radius: 10px;
      line-height: 35px;
      text-align: center;
      text-decoration: none;
      display: inline-block;
      border: 0px solid cyan;
      font-weight: bold;
      transition-duration: 150ms;
      margin-left: 130px;
    }

    #editBtnElement:hover{
      opacity: 0.85;
    }

    .iconoir-edit-pencil{
      padding-top: 7px;
    }

    /* ===== Loader overlay ===== */
    .loader-overlay{
      position: fixed;
      inset: 0;
      display: grid;
      place-items: center;
      background: rgba(0,0,0,0.65);
      z-index: 10000; /* au-dessus de ton modal (9999) */
    }

    .loader-box{
      display: grid;
      gap: 14px;
      justify-items: center;
      padding: 22px 26px;
      border-radius: 14px;
      background: rgba(255,255,255,0.08);
      backdrop-filter: blur(8px);
      border: 1px solid rgba(255,255,255,0.14);
    }

    .spinner{
      width: 44px;
      height: 44px;
      border: 5px solid rgba(255,255,255,0.25);
      border-top-color: rgba(255,255,255,0.95);
      border-radius: 50%;
      animation: spin 0.9s linear infinite;
    }

    .loader-text{
      font: 600 14px/1.2 system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
      color: white;
    }

    @keyframes spin{ to{ transform: rotate(360deg); } }
    /* petite disparition douce */
    .loader-overlay.is-hidden{
      opacity: 0;
      pointer-events: none;
      transition: opacity 180ms ease;
    }

    /* ===== Theme toggle ===== */
    .themeToggle{
      display:flex;
      align-items:center;
      gap:10px;
      margin-left: 14px; /* ajuste selon ton header */
      user-select: none;
    }

    .themeIcon{
      font-size: 18px;
      line-height: 1;
      transition: opacity 160ms ease;
    }

    /* Par dÔøΩÔøΩfaut (mode sombre): lune active, soleil fade */
    .themeToggle .moon{ opacity: 1; }
    .themeToggle .sun{ opacity: 0.35; }
    /* Quand mode clair: soleil actif, lune fade */
    .themeToggle.is-light .moon{ opacity: 0.35; }
    .themeToggle.is-light .sun{ opacity: 1; }
    /* Switch */
    .switch{
      position: relative;
      display: inline-block;
      width: 46px;
      height: 24px;
    }

    .switch input{
      opacity: 0;
      width: 0;
      height: 0;
    }

    .slider{
      position: absolute;
      inset: 0;
      cursor: pointer;
      border-radius: 999px;
      border: 1px solid var(--stroke);
      background: rgba(255,255,255,0.14);
      transition: 180ms ease;
    }

    .slider:before{
      content: "";
      position: absolute;
      width: 18px;
      height: 18px;
      left: 3px;
      top: 2px;
      border-radius: 50%;
      background: rgba(255,255,255,0.92);
      transition: 180ms ease;
    }

    /* Bouton ÔøΩÔøΩ droite quand checked (mode clair) */
    .switch input:checked + .slider:before{
      transform: translateX(22px);
    }

    /* Apparence du rail en mode clair (optionnel) */
    .switch input:checked + .slider{
      background: rgba(0,0,0,0.10);
    }

    /* ===== Hook du thÔøΩÔøΩme clair ===== */
    /* Tu personnalises librement les variables ici */
    body.theme-light{
      /* EXEMPLES ÔøΩÔøΩÔøΩ ajuste comme tu veux */
      --bg: #f4f6fb;
      --card: rgba(0,0,0,0.04);
      --card2: rgba(0,0,0,0.06);
      --text: rgba(0,0,0,0.92);
      --muted: rgba(0,0,0,0.65);
      --stroke: rgba(0,0,0,0.12);
    }

    body.theme-light .btn-medium {
      background: #404040;
      background: linear-gradient(90deg,rgba(186, 40, 30, 1) 0%, rgba(218, 41, 28, 1) 100%);
      color: white;
    }

    body.theme-light .section{
      background: linear-gradient(180deg, var(--card), transparent 140%);
      border: 1px solid var(--stroke);
      border-radius: var(--radius);
      padding: 18px;
      margin-top: 16px;
      box-shadow: 0 0px 20px rgba(0,0,0,0.10);
      backdrop-filter: blur(10px);
    }

    body.theme-light .toolCard{
      display:flex;
      flex-direction:column;
      width:100%;
      text-decoration:none;
      border-radius: 20px;
      overflow:hidden;
      border: 0px solid #DA291C;
      background: rgba(255,255,255,0.06);
      box-shadow: 0 0px 20px rgba(0,0,0,0.20);
      transition: transform .12s ease, border-color .12s ease, background .12s ease;
      user-select:none;
      height: 150px;
    }

    body.theme-light .toolCard:hover{
      transform: translateY(-1px);
      border-color: rgba(255,255,255,0.22);
      background: rgba(255,255,255,0.075);
      opacity: 0.85;
    }

    body.theme-light .toolCard:active{ transform: translateY(0px) scale(0.99); }
    body.theme-light .btn-quick-rogers{
      background: #404040;
      background: linear-gradient(90deg,rgba(186, 40, 30, 1) 0%, rgba(218, 41, 28, 1) 100%);
      color: white;
    }

    body.theme-light .btn-quick-fido{
      background: #404040;
      background: linear-gradient(90deg,rgba(2, 153, 150, 1) 0%, rgba(0, 175, 171, 1) 100%);
      color: white;
    }

    body.theme-light #compSection{
      background: linear-gradient(90deg,rgba(13, 6, 89, 1) 0%, rgba(25, 3, 166, 1) 100%);
    }

    body.theme-light #competitionTitle{
      color: white;
    }

    body.theme-light .compCard{
      border: 0px solid rgba(255,255,255,0.12);
      background: none;
      border-radius: 10px;
      padding: 5px;
    }

    body.theme-light .btnTextOnly{
      border: 1px solid white;
      background: rgba(255, 255, 255, 0.50);
      color: white;
    }

    body.theme-light .compLogo{
      height: 50px;
      padding: 10px;
      width: 100%;
      max-width: 130px;
      object-fit: contain;
      display:block;
      background: none;
      border-radius: 10px;
    }

    body.theme-light .reportBtn{
      border-radius: 18px;                 /* coins */
      background: linear-gradient(90deg,rgba(78, 20, 140, 1) 0%, rgba(136, 66, 212, 1) 100%);
      border: 1px solid rgba(255,255,255,0.18);
      min-height: 60px;                    /* hauteur */
    }

    body.theme-light .storeInput{
      width: 100px;
      height: 35px;
      padding-left: 10px;
      font-size: 20px;
      border-radius: 10px;
      border: 1px solid #404040;
      background: rgba(255,255,255,0.06);
      color: #404040;
      outline: none;
      font-family: Ted Next;
    }

    body.theme-light .storeInput::placeholder{ color: #404040; }
    body.theme-light .storeInput.error{
      border-color: rgba(255,80,80,0.90);
      box-shadow: 0 0 0 3px rgba(255,80,80,0.25);
    }

    body.theme-light .storeError{
      font-size:12px;
      color: rgba(255,130,130,0.95);
    }

    body.theme-light #languageBtnElement{
      background-color: #D1D1D1;
      color: #0b1220;
      width: 100px;
      height: 35px;
      border-radius: 10px;
      line-height: 35px;
      text-align: center;
      text-decoration: none;
      display: inline-block;
      border: 0px solid cyan;
      font-weight: bold;
      transition-duration: 150ms;
    }

    body.theme-light .footer{
      background: none;
      border-top: 1px solid #dadada;
      border-radius: 0px;
      padding-top: 18px;
      margin-top: 40px;
    }

    body.theme-light .footerDiv{
      display: flex;
      flex-direction: row;
      color: black;
    }

    body.theme-light .footerRow2{
      display: flex;
      flex-direction: row;
      width: 100%;
      color: black;
      font-style: italic;
      margin-top: 25px;
      opacity: 0.65;
      text-align: center;
      justify-content: center;
    }

    body.theme-light .footerLink1{
      display: flex;
      flex-direction: column;
      width: 20%;
      -webkit-filter: invert(100%);
      filter: invert(100%);
    }

    body.theme-light .footerLink{
      display: flex;
      flex-direction: column;
      width: 20%;
      text-align: center;
      -webkit-filter: invert(100%);
      filter: invert(100%);
    }

    body.theme-light .editBtn{
      display: flex;
      flex-direction: column;
      width: 20%;
      text-align: right;
    }

    body.theme-light #editBtnElement{
      background-color: #D1D1D1;
      color: #0b1220;
      width: 100px;
      height: 35px;
      border-radius: 10px;
      line-height: 35px;
      text-align: center;
      text-decoration: none;
      display: inline-block;
      border: 0px solid cyan;
      font-weight: bold;
      transition-duration: 150ms;
      margin-left: 130px;
    }

    body.theme-light #editBtnElement:hover{
      opacity: 0.85;
    }

    /* --- Modal --- */
    body.theme-light .modalBackdrop{
      position: fixed;
      inset: 0;
      background: rgba(0,0,0,0.55);
      display:flex;
      align-items:center;
      justify-content:center;
      padding: 18px;
      z-index: 9999;
    }

    body.theme-light .modalCard{
      width: min(920px, 100%);
      border-radius: 18px;
      border: 1px solid rgba(255,255,255,0.14);
      background: #f4f6fb;
      backdrop-filter: blur(12px);
      box-shadow: 0 30px 80px rgba(0,0,0,0.45);
    }

    body.theme-light .modalHeader{
      display:flex;
      align-items:center;
      justify-content:space-between;
      padding: 14px 14px 10px;
      border-bottom: 1px solid rgba(255,255,255,0.10);
    }

    body.theme-light .modalTitle{
      font-weight: 800;
      letter-spacing:0.2px;
    }

    body.theme-light .modalClose{
      border: 1px solid rgba(255,255,255,0.18);
      background: #ADADAD;
      color: white;
      border-radius: 12px;
      padding: 6px 10px;
      cursor:pointer;
    }

    body.theme-light .modalBody{ padding: 14px; }
    /* ÔøΩÔøΩÔøΩ NEW: Store modal grid (3-wide, centered if ÔøΩÔøΩÔøΩ) */
    body.theme-light .storeModalGrid{
      display:grid;
      gap: 12px;
      grid-template-columns: repeat(3, minmax(0, 1fr));
      justify-content:center;   /* centre la grille si elle ne remplit pas */
      align-content:start;
      justify-items:stretch;    /* chaque bouton prend la largeur de sa colonne */
    }

    /* Largeur "constante" des colonnes, mÔøΩÔøΩme si 1 ou 2 boutons */
    body.theme-light .storeModalGrid.cols-1,
    body.theme-light .storeModalGrid.cols-2,
    body.theme-light .storeModalGrid.cols-3{
      grid-template-columns: repeat(3, minmax(0, 1fr));
    }

    /* On limite la largeur totale du groupe ÔøΩÔøΩ 3 colonnes + gaps, puis on centre */
    body.theme-light .storeModalGrid{
      max-width: 840px;
      margin: 0 auto;           /* centre horizontalement */
    }

    @media (max-width: 900px){
      body.theme-light .storeModalGrid{
        grid-template-columns: repeat(2, minmax(0, 1fr));
        max-width: 620px;
      }
      body.theme-light .storeModalGrid.cols-1,
      body.theme-light .storeModalGrid.cols-2,
      body.theme-light .storeModalGrid.cols-3{
        grid-template-columns: repeat(2, minmax(0, 1fr));
      }
    }

    @media (max-width: 520px){
      body.theme-light .storeModalGrid{
        grid-template-columns: 1fr;
        max-width: 360px;
      }
      body.theme-light .storeModalGrid.cols-1,
      body.theme-light .storeModalGrid.cols-2,
      body.theme-light .storeModalGrid.cols-3{
        grid-template-columns: 1fr;
      }
    }

    body.theme-light .btn-large{
      background: linear-gradient(90deg,rgba(186, 40, 30, 1) 0%, rgba(218, 41, 28, 1) 100%);
      color: white;
    }
    
    /* INFO PAGE */
    
    h1 {
      font-size: 36px;
      text-align: center;
      margin-top: 30px;
      font-weight: 800;
    }
    
    h2 {
      font-size: 24px;
      margin-top: 30px;
      font-weight: bold;
    }
    
    p {
      font-size: 18px;
      text-align: justify;
    }
    
    .h-line{
      border-bottom: 1px solid white;
      opacity: 0.5;
      margin-top: 20px;
      margin-bottom: 20px;
    }
    
    body.theme-light .h-line{
      border-bottom: 1px solid black;
      opacity: 0.5;
      margin-top: 20px;
      margin-bottom: 20px;
    }
    
    .bulletList {
      font-size: 18px;
      padding-left: 10px;
    }
    
  </style>
</head>

<body>
  


  <div class="wrap">
    
    <header>
      <div class="brand">
        <div class="headerLogo">
          <a href="https://rogersrepaccess.github.io/repaccess-en/">
            <img
                 class="headerLogoImage theme-img"
                 src="https://github.com/rogersrepaccess/repaccess-fr/blob/main/images/logo_repaccess_v1_blanc.png?raw=true"
                 data-src-dark="https://github.com/rogersrepaccess/repaccess-fr/blob/main/images/logo_repaccess_v1_blanc.png?raw=true"
                 data-src-light="https://github.com/rogersrepaccess/repaccess-fr/blob/main/images/logo_repaccess_v1_rouge.png?raw=true"
                 alt="RepAccess"
                 />
          </a>
        </div>
      </div>

      <!-- Section 0 (header): boutique lookup -->

      <div class="themeToggle" id="themeToggle" title="Mode sombre / mode clair">
        <span class="themeIcon moon" aria-hidden="true">üåô</span>

        <label class="switch" aria-label="Basculer entre mode sombre et mode clair">
          <input type="checkbox" id="themeSwitch" />
          <span class="slider"></span>
        </label>

        <span class="themeIcon sun" aria-hidden="true">‚òÄÔ∏è</span>
      </div>

      <div class="languageBtn" id="languageBtn">
        <a
           id="languageBtnElement"
           href="https://rogersrepaccess.github.io/tcu-fr/"
           target="_self"
           >Fran√ßais</a>
      </div>
    </header>

    <section class="pageContent" aria-label="pageContent">

      <div class="pageContentDiv" id="pageContentDiv">
        
        <h1>Terms and Conditions of Use</h1>
        
        <div class="h-line"></div>

        <p>These Terms and Conditions (the ‚ÄúTerms‚Äù) govern your access to and use of the website and/or program (the ‚ÄúProgram‚Äù). By accessing or using the Program, you confirm that you have read, understood, and agree to be bound by these Terms. If you do not accept these Terms, you must stop using the Program.</p>

        <h2>1. Purpose of the Program</h2>
        <p>The Program is intended to support sales representatives in their day-to-day tasks and sales processes by centralizing links, tools, and resources. The Program is provided as an operational aid and does not replace any official employer policies, directives, training, procedures, or official tools of any organization.</p>

        <h2>2. Public access and intended users</h2>
        <p>The Program is publicly accessible on the Internet. However, it is designed primarily for internal use by employees or sales representatives of the organization it is intended for (the ‚ÄúIntended Users‚Äù).</p>
        <p>If you are not an Intended User, you may still access the Program, but you acknowledge that its content may not be suitable for your situation and that you use the Program at your own risk.</p>

        <h2>3. No official affiliation with Rogers</h2>
        <p>Although the Program may be used by employees of Rogers Communications Canada Inc. (‚ÄúRogers‚Äù), Rogers is not the publisher of the Program and is not officially affiliated with it.</p>

        <div class="bulletList">
          <p>‚Ä¢ The Program is not an official Rogers product, service, or tool.</p>
          <p>‚Ä¢ Rogers does not endorse the Program and assumes no responsibility for its content, availability, or operation.</p>
          <p>‚Ä¢ No contractual relationship, partnership, agency, mandate, representation, or other relationship exists between Rogers and the Program.</p>
        </div>

        <h2>4. Use at your own responsibility</h2>
        <p>You are solely responsible for how you use the Program, including compliance with any applicable internal policies, procedures, instructions, professional obligations, and rules. Any decision, transaction, communication, or recommendation made using the Program remains entirely your responsibility.</p>

        <p>The Program‚Äôs operator, the company, and any person involved in the development, operation, or maintenance of the Program disclaim any liability arising from the use, misuse, or inability to use the Program.</p>

        <h2>5. Disclaimer of warranties</h2>
        <p>The Program is provided ‚Äúas is‚Äù and ‚Äúas available.‚Äù No express or implied warranties are provided, including without limitation regarding:</p>

        <div class="bulletList">
          <p>‚Ä¢ the accuracy, completeness, or timeliness of information and resources;</p>
          <p>‚Ä¢ the absence of errors, bugs, interruptions, or harmful components;</p>
          <p>‚Ä¢ the Program‚Äôs fitness for a particular purpose or any expected outcome.</p>
        </div>

        <h2>6. Accuracy, updates, and changes</h2>
        <p>The Program may display information, practices, or resources that can change without notice. The Program‚Äôs operator may modify, correct, reorganize, or remove content at any time.</p>
        <p>You are responsible for verifying information with the relevant official sources (e.g., internal tools, policies, official communications, employer documentation) before relying on it in any operational or sales context.</p>

        <h2>7. Links to third-party websites and tools</h2>
        <p>The Program may include links to third-party websites, applications, or tools (including official internal resources accessible via authentication). These links are provided for convenience only. The Program‚Äôs operator does not control such sites and is not responsible for:</p>

        <div class="bulletList">
          <p>‚Ä¢ their content, accuracy, availability, security, or performance;</p>
          <p>‚Ä¢ their privacy practices or terms of use;</p>
          <p>‚Ä¢ any loss, damage, or incident resulting from their use.</p>
        </div>

        <h2>8. No collection or storage of user data</h2>
        <p>The Program does not intentionally collect or store personal information or user data (e.g., accounts, profiles, history, forms, databases). No user account is required to access the Program.</p>
        <p>However, as with any publicly accessible website, certain technical information may be processed automatically by hosting infrastructure or your browser (e.g., network requests, standard technical logs, caching), without the Program‚Äôs operator using it to identify individuals.</p>

        <h2>9. Confidentiality and sensitive information</h2>
        <p>You are responsible for respecting the confidentiality of information you access as part of your work. In particular, you agree not to:</p>

        <div class="bulletList">
          <p>‚Ä¢ enter, copy, transmit, or publish personal, confidential, or sensitive information through the Program;</p>
          <p>‚Ä¢ share internal information (e.g., procedures, pricing, offers, documents, access) with unauthorized persons;</p>
          <p>‚Ä¢ use the Program in a way that could lead to a data breach, privacy violation, or breach of your obligations.</p>
        </div>

        <h2>10. Acceptable use</h2>
        <p>You agree to use the Program in a lawful, compliant, and reasonable manner. In particular, you must not:</p>

        <div class="bulletList">
          <p>‚Ä¢ use the Program for fraudulent, misleading, or illegal purposes;</p>
          <p>‚Ä¢ attempt to access unauthorized areas, bypass security measures, or interfere with the Program‚Äôs operation;</p>
          <p>‚Ä¢ introduce viruses, scripts, or malicious content;</p>
          <p>‚Ä¢ perform mass extraction of content (scraping) or overload the service abusively;</p>
          <p>‚Ä¢ use the Program in a way that infringes third-party rights or harms the reputation of any person or organization.</p>
        </div>

        <h2>11. Intellectual property</h2>
        <p>Unless otherwise stated, the Program, its structure, interface, code, design, and original elements are protected by intellectual property rights. Any reproduction, distribution, modification, or unauthorized use is prohibited without prior written permission.</p>
        <p>Any trademarks, logos, and product or service names referenced remain the property of their respective owners. Their appearance in the Program does not constitute endorsement.</p>

        <h2>12. Availability and termination</h2>
        <p>The Program may be updated, modified, replaced, suspended, or discontinued at any time, temporarily or permanently, with or without notice. The Program‚Äôs operator is not responsible for any consequences of such changes, including loss of access or content unavailability.</p>

        <h2>13. Limitation of liability</h2>
        <p>To the fullest extent permitted by applicable law, the Program‚Äôs operator, the company, and any person involved in the Program will not be liable for any direct or indirect damages, including without limitation:</p>

        <div class="bulletList">
          <p>‚Ä¢ loss of revenue, profits, commissions, or business opportunities;</p>
          <p>‚Ä¢ loss of data or work interruption;</p>
          <p>‚Ä¢ sales errors, inaccurate communications, or decisions made in reliance on the Program;</p>
          <p>‚Ä¢ claims, sanctions, disciplinary measures, or professional consequences arising from non-compliant use;</p>
          <p>‚Ä¢ any damage resulting from errors, omissions, third-party links, or unavailability.</p>
        </div>

        <h2>14. Indemnification</h2>
        <p>You agree to indemnify and hold harmless the Program‚Äôs operator, the company, and any person involved in the Program from any claim, loss, liability, damage, cost, or expense (including reasonable legal fees) arising from your use of the Program, your breach of these Terms, or your violation of any third-party rights.</p>

        <h2>15. Changes to the Terms</h2>
        <p>These Terms may be updated at any time. Any changes become effective once posted on this page. By continuing to use the Program after changes are posted, you accept the updated Terms. You are responsible for reviewing this page periodically.</p>

        <h2>16. Severability</h2>
        <p>If any provision of these Terms is found to be invalid or unenforceable, that provision will be enforced to the maximum extent permitted by law, and the remaining provisions will remain in full force and effect.</p>

        <h2>17. Governing law</h2>
        <p>These Terms are governed by the laws of the Province of Qu√©bec and the applicable federal laws of Canada, without regard to conflict of law rules. Any dispute relating to the Program will be submitted to the competent courts of the judicial district of Montr√©al (Qu√©bec), unless mandatory law provides otherwise.</p>

        <h2>18. Contact</h2>
        <p>If you have any questions about these Terms, you may contact the Program‚Äôs operator using the internal contact details provided.</p>

        <p><em>Last updated : January 11, 2026, 13: 58:12</em></p>


      </div>
      
    </section>

    <!-- Footer -->
    <section class="footer" aria-label="footer">
      <div class="footerDiv" id="footerDiv">
        <a
           class="footerLink1"
           id="footerLink"
           href="https://rogersrepaccess.github.io/repaccess-fr/tcu-en"
           target="_blank"
           style="color:white; opacity: 0.85;"
           >
          Terms and conditions of use
        </a>

        <a
           class="footerLink"
           id="footerLink"
           href="https://rogersrepaccess.github.io/repaccess-fr/pc-en"
           target="_blank"
           style="color:white; opacity: 0.85;"
           >
          Privacy policy
        </a>

        <a
           class="footerLink"
           id="footerLink"
           href="https://rogersrepaccess.github.io/repaccess-fr/about"
           target="_blank"
           style="color:white; opacity: 0.85;"
           >
          About
        </a>

        <a
           class="footerLink"
           id="footerLink"
           href="https://rogersrepaccess.github.io/repaccess-fr/report-bug"
           target="_blank"
           style="color:white; opacity: 0.85;"
           >
          Report error/bug
        </a>

        <div class="editBtn" id="editBtn">
          <a
             id="editBtnElement"
             href="https://docs.google.com/spreadsheets/d/1dvbS1s5sX8uPUB6b20ZTMf5eNOzjCXnf5U0jLL-GDbo/edit?usp=sharing"
             target="_blank"
             ><i class="iconoir-edit-pencil"></i>
            Edit</a>
        </div>
      </div>

      <div class="footerDiv" id="footerDiv">
        <div class="footerRow2">
          Timoth√©e Vall√©e 2026 ¬©
        </div>
      </div>
    </section>
  
  </div>

  <!-- Modal: Boutique links -->
  <div id="storeModal" class="modalBackdrop" style="display:none;">
    <div
         class="modalCard"
         role="dialog"
         aria-modal="true"
         aria-labelledby="storeModalTitle"
         >
      <div class="modalHeader">
        <div class="modalTitle" id="storeModalTitle">Store</div>
        <button class="modalClose" id="storeModalClose" aria-label="Fermer">‚úï</button>
      </div>

      <div class="modalBody">
        <!-- ‚úÖ changed id/class so we control sizing/centering -->
        <div id="storeModalButtons" class="storeModalGrid cols-3"></div>
        <div class="empty" id="storeModalEmpty" style="display:none;">Nothing to display.</div>
      </div>
    </div>
  </div>

  <script>
  // (Config)
  const WEBAPP_URL =
    "https://script.google.com/macros/s/AKfycbziLqBHO0OKnELiYMYG3SEoSRAKuEV4HnWb2amTdYh7adZPi3zodqhYTz_UD3ZmltBxEQ/exec";
  const UI_LANG = "en";
  const FALLBACK_TO_FR = true;

  // (Fallback icon)
  const FALLBACK_ICON = "data:image/svg+xml;charset=utf-8," + encodeURIComponent(`

      <svg xmlns="http://www.w3.org/2000/svg" width="64" height="64">

        <rect width="64" height="64" rx="14" fill="rgba(255,255,255,0.14)"/>

        <path d="M18 34l10-10 8 8 10-10" stroke="rgba(255,255,255,0.75)" stroke-width="4" fill="none" stroke-linecap="round" stroke-linejoin="round"/>

      </svg>

    `);

  // (State)
  let APP_DATA = null;

  // (Loader elements)
  const loaderEl = document.getElementById("loaderOverlay");
  const loaderTextEl = document.getElementById("loaderText");

  // (Loader)
  function showLoader(text) {
    if (text) loaderTextEl.textContent = text;

    loaderEl.classList.remove("is-hidden");
    loaderEl.style.display = "grid";
    loaderEl.setAttribute("aria-busy", "true");
  }

  function hideLoader() {
    loaderEl.classList.add("is-hidden");
    loaderEl.setAttribute("aria-busy", "false");
    setTimeout(() => {
      loaderEl.style.display = "none";
    }, 200);
  }

  // (Helpers: HTML escaping + i18n)
  function escapeHtml(s) {
    return String(s ?? "")
      .replaceAll("&", "&amp;")
      .replaceAll("<", "&lt;")
      .replaceAll(">", "&gt;")
      .replaceAll('"', "&quot;")
      .replaceAll("'", "&#039;");
  }

  function pickLang(obj, lang) {
    if (!obj || typeof obj !== "object") return "";

    const v = String(obj[lang] ?? "").trim();
    if (v) return v;

    if (FALLBACK_TO_FR && lang !== "fr") return String(obj["fr"] ?? "").trim();
    return "";
  }

  function normalizeButton(item) {
    return {
      title: pickLang(item.title, UI_LANG),
      url: pickLang(item.url, UI_LANG),
      icon: item.icon || "",
    };
  }

  // (UI builders)
  function createButton(item, sizeClass) {
    const a = document.createElement("a");
    a.className = `btn ${sizeClass}`;
    a.target = "_blank";
    a.rel = "noopener";
    a.href = item.url || "#";

    const icon = document.createElement("div");
    icon.className = "icon";

    const img = document.createElement("img");
    img.alt = "";
    img.loading = "lazy";
    img.src = item.icon || FALLBACK_ICON;
    img.onerror = () => {
      img.src = FALLBACK_ICON;
    };
    icon.appendChild(img);

    const label = document.createElement("div");
    label.className = "label";
    label.innerHTML = escapeHtml(
      item.title || (UI_LANG === "fr" ? "(Sans titre)" : "(Untitled)")
    );

    a.appendChild(icon);
    a.appendChild(label);

    if (!item.url) {
      a.style.opacity = "0.55";
      a.style.pointerEvents = "none";
    }
    return a;
  }

  function createTextOnlyButton(labelText, url) {
    const a = document.createElement("a");
    a.className = "btn btnTextOnly";
    a.target = "_blank";
    a.rel = "noopener";
    a.href = url || "#";

    const label = document.createElement("div");
    label.className = "label";
    label.textContent = labelText;

    a.appendChild(label);

    if (!url) {
      a.style.opacity = "0.55";
      a.style.pointerEvents = "none";
    }
    return a;
  }

  function createToolCard(item) {
    const a = document.createElement("a");
    a.className = "toolCard";
    a.target = "_blank";
    a.rel = "noopener";
    a.href = item.url || "#";

    const media = document.createElement("div");
    media.className = "toolCardMedia";

    const img = document.createElement("img");
    img.alt = "";
    img.loading = "lazy";
    img.src = item.icon || FALLBACK_ICON;
    img.onerror = () => {
      img.src = FALLBACK_ICON;
    };
    media.appendChild(img);

    const title = document.createElement("div");
    title.className = "toolCardTitle";
    title.textContent = item.title || (UI_LANG === "fr" ? "(Sans titre)" : "(Untitled)");

    a.appendChild(media);
    a.appendChild(title);

    if (!item.url) {
      a.classList.add("toolCardDisabled");
    }
    return a;
  }

  function createReportButton(item) {
    const a = document.createElement("a");
    a.className = "btn btn-medium reportBtn";
    a.target = "_blank";
    a.rel = "noopener";
    a.href = item.url || "#";

    const badge = document.createElement("div");
    badge.className = "badgeNum";
    badge.textContent = item.badge || "‚Äî";

    const label = document.createElement("div");
    label.className = "label";
    label.innerHTML = escapeHtml(
      item.title || (UI_LANG === "fr" ? "(Sans titre)" : "(Untitled)")
    );

    a.appendChild(badge);
    a.appendChild(label);

    if (!item.url) {
      a.style.opacity = "0.55";
      a.style.pointerEvents = "none";
    }
    return a;
  }

  // (Render: sections)
  function renderToolsAndLinks(data) {
    const outilsSrc = data?.sections?.outils || [];
    const utilesSrc = data?.sections?.liensUtiles || [];
    const rogersSrc = data?.sections?.liensRapides?.rogers || [];
    const fidoSrc = data?.sections?.liensRapides?.fido || [];

    const outils = outilsSrc.map(normalizeButton).filter((x) => x.title || x.url || x.icon);
    const outilsGrid = document.getElementById("outilsGrid");
    outilsGrid.innerHTML = "";
    for (const it of outils) outilsGrid.appendChild(createToolCard(it));
    document.getElementById("outilsEmpty").style.display = outils.length ? "none" : "block";

    const utiles = utilesSrc.map(normalizeButton).filter((x) => !!x.url);
    const utilesGrid = document.getElementById("liensUtilesGrid");
    utilesGrid.innerHTML = "";
    for (const it of utiles) utilesGrid.appendChild(createButton(it, "btn-medium"));
    document.getElementById("liensUtilesEmpty").style.display = utiles.length ? "none" : "block";

    const rogers = rogersSrc.map(normalizeButton).filter((x) => !!x.url);
    const fido = fidoSrc.map(normalizeButton).filter((x) => !!x.url);

    const rogersQuick = document.getElementById("rogersQuick");
    const fidoQuick = document.getElementById("fidoQuick");
    rogersQuick.innerHTML = "";
    fidoQuick.innerHTML = "";

    for (const it of rogers) rogersQuick.appendChild(createButton(it, "btn-quick btn-quick-rogers"));
    for (const it of fido) fidoQuick.appendChild(createButton(it, "btn-quick btn-quick-fido"));

    document.getElementById("rogersEmpty").style.display = rogers.length ? "none" : "block";
    document.getElementById("fidoEmpty").style.display = fido.length ? "none" : "block";
  }

  function renderCompetition(list) {
    const wrap = document.getElementById("competitionGrid");
    const empty = document.getElementById("competitionEmpty");
    wrap.innerHTML = "";

    const normalized = (list || [])
      .map((s) => ({
        title: pickLang(s.title, UI_LANG),
        icon: s.icon || "",
        planUrl: pickLang(s.links?.plan, UI_LANG),
        deviceUrl: pickLang(s.links?.device, UI_LANG),
      }))
      .filter((x) => x.title || x.planUrl || x.deviceUrl);

    if (!normalized.length) {
      empty.style.display = "block";
      return;
    }
    empty.style.display = "none";

    const n = normalized.length;
    let cols = Math.min(4, n);
    if (n > 4 && n % 2 === 0) cols = n / 2;
    wrap.style.gridTemplateColumns = `repeat(${cols}, minmax(0, 1fr))`;

    const labelPlan = UI_LANG === "fr" ? "Forfaits" : "Plans";
    const labelDevice = UI_LANG === "fr" ? "Appareils" : "Devices";

    for (const s of normalized) {
      const card = document.createElement("div");
      card.className = "compCard";

      const head = document.createElement("div");
      head.className = "compHeader";

      if (s.icon) {
        const img = document.createElement("img");
        img.className = "compLogo";
        img.alt = "";
        img.loading = "lazy";
        img.src = s.icon;
        img.onerror = () => {
          img.style.display = "none";
        };
        head.appendChild(img);
      }

      const title = document.createElement("div");
      title.className = "compTitle";
      title.innerHTML = escapeHtml(s.title || "");
      head.appendChild(title);

      const btns = document.createElement("div");
      btns.className = "compBtns";
      btns.appendChild(createTextOnlyButton(labelPlan, s.planUrl));
      btns.appendChild(createTextOnlyButton(labelDevice, s.deviceUrl));

      card.appendChild(head);
      card.appendChild(btns);
      wrap.appendChild(card);
    }
  }

  function renderReports(list) {
    const grid = document.getElementById("reportsGrid");
    const empty = document.getElementById("reportsEmpty");
    grid.innerHTML = "";

    const normalized = (list || [])
      .map((r) => ({
        badge: String(r.badge ?? "").trim(),
        title: pickLang(r.title, UI_LANG),
        url: pickLang(r.url, UI_LANG),
      }))
      .filter((x) => !!x.url);

    if (!normalized.length) {
      empty.style.display = "block";
      return;
    }
    empty.style.display = "none";

    for (const it of normalized) grid.appendChild(createReportButton(it));
  }

  // (Theme)
  const THEME_KEY = "repaccess_theme"; // "dark" | "light"

  function applyTheme(theme) {
    const isLight = theme === "light";

    // 1) th√®me via classe sur le body
    document.body.classList.toggle("theme-light", isLight);

    // 2) switch position
    const sw = document.getElementById("themeSwitch");
    if (sw) sw.checked = isLight;

    // 3) opacit√© des ic√¥nes
    const toggle = document.getElementById("themeToggle");
    if (toggle) toggle.classList.toggle("is-light", isLight);

    updateThemedImages(isLight);
  }

  function initTheme() {
    // d√©faut = sombre (comme tu veux)
    const saved = localStorage.getItem(THEME_KEY);
    applyTheme(saved === "light" ? "light" : "dark");

    const sw = document.getElementById("themeSwitch");
    if (sw) {
      sw.addEventListener("change", () => {
        const theme = sw.checked ? "light" : "dark";
        localStorage.setItem(THEME_KEY, theme);
        applyTheme(theme);
      });
    }
  }

  // (Store lookup)
  function setupStoreLookup() {
    const input = document.getElementById("storeInput");
    const err = document.getElementById("storeError");
    const modal = document.getElementById("storeModal");
    const close = document.getElementById("storeModalClose");

    const clearError = () => {
      input.classList.remove("error");
      err.style.display = "none";
    };

    const showError = (msg) => {
      input.classList.add("error");
      err.textContent = msg || (UI_LANG === "fr" ? "Aucun r√©sultat" : "No results");
      err.style.display = "block";
    };

    const openModal = () => {
      modal.style.display = "flex";
    };
    const closeModal = () => {
      modal.style.display = "none";
    };

    close.addEventListener("click", closeModal);
    modal.addEventListener("click", (e) => {
      if (e.target === modal) closeModal();
    });
    document.addEventListener("keydown", (e) => {
      if (e.key === "Escape") closeModal();
    });

    function runLookup() {
      if (!APP_DATA) {
        showError(UI_LANG === "fr" ? "Donn√©es non charg√©es" : "Data not loaded");
        return;
      }

      const raw = String(input.value || "").trim();
      clearError();

      if (!/^\d{1,5}$/.test(raw)) {
        if (raw.length) showError(UI_LANG === "fr" ? "Entrez 1 √† 5 chiffres" : "Enter 1‚Äì5 digits");
        return;
      }

      const map = APP_DATA?.sections?.boutique || {};
      const items = map[raw];

      if (!items || !items.length) {
        showError(UI_LANG === "fr" ? "Aucun r√©sultat" : "No results");
        return;
      }

      const normalized = items
        .map((b) => ({
          title: pickLang(b.title, UI_LANG),
          url: pickLang(b.url, UI_LANG),
          icon: b.icon || "",
        }))
        .filter((x) => !!x.url);

      if (!normalized.length) {
        showError(UI_LANG === "fr" ? "Aucun lien dans cette langue" : "No links in this language");
        return;
      }

      document.getElementById("storeModalTitle").textContent =
        (UI_LANG === "fr" ? "Boutique " : "Store ") + raw;

      const grid = document.getElementById("storeModalButtons");
      const empty = document.getElementById("storeModalEmpty");

      // ‚úÖ Force 3-column layout + centering behavior
      grid.classList.remove("cols-1", "cols-2", "cols-3");
      grid.classList.add("cols-" + Math.min(3, normalized.length));

      grid.innerHTML = "";

      // ‚úÖ On place les boutons en "btn-large", chacun occupe une colonne;
      // si 1 ou 2, la grille reste de 3 colonnes et se centre gr√¢ce √† max-width + margin:auto
      for (const it of normalized.slice(0, 3)) {
        grid.appendChild(createButton(it, "btn-large"));
      }

      empty.style.display = normalized.length ? "none" : "block";
      openModal();
    }

    input.addEventListener("input", () => {
      input.value = input.value.replace(/[^\d]/g, "").slice(0, 5);
      clearError();
    });

    input.addEventListener("keydown", (e) => {
      if (e.key === "Enter") runLookup();
    });
  }



  // (Themed images)
  function updateThemedImages(isLight) {
    document.querySelectorAll("img.theme-img").forEach((img) => {
      const newSrc = isLight ? img.dataset.srcLight : img.dataset.srcDark;
      if (newSrc && img.src !== newSrc) img.src = newSrc;
    });
  }

  // (Boot)
  initTheme();
  setupStoreLookup();
  load();
</script>


</body>
</html>
