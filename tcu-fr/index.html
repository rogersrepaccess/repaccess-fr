<!doctype html>
<html lang="fr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="icon" href="favicon.png" type="image/x-icon">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/iconoir-icons/iconoir@main/css/iconoir.css" />
  <title>RepAccess</title>

  <style>
    
    @font-face {
      font-family: 'Ted Next';
      src: url('https://raw.githubusercontent.com/rogersrepaccess/repaccess-fr/main/fonts/TedNext-Regular.woff') format('woff');
      font-weight: normal;
      font-style: normal;
    }

    @font-face {
      font-family: 'Ted Next';
      src: url('https://raw.githubusercontent.com/rogersrepaccess/repaccess-fr/main/fonts/TedNext-Italic.woff') format('woff');
      font-weight: normal;
      font-style: italic;
    }

    @font-face {
      font-family: 'Ted Next';
      src: url('https://raw.githubusercontent.com/rogersrepaccess/repaccess-fr/main/fonts/TedNext-Semibold.woff') format('woff');
      font-weight: bold;
      font-style: normal;
    }

    @font-face {
      font-family: 'Ted Next';
      src: url('https://raw.githubusercontent.com/rogersrepaccess/repaccess-fr/main/fonts/TedNext-SemiBoldItalic.woff') format('woff');
      font-weight: bold;
      font-style: italic;
    }

    @font-face {
      font-family: 'Ted Next';
      src: url('https://raw.githubusercontent.com/rogersrepaccess/repaccess-fr/main/fonts/TedNext-Bold.woff') format('woff');
      font-weight: 800;
      font-style: normal;
    }

    @font-face {
      font-family: 'Ted Next';
      src: url('https://raw.githubusercontent.com/rogersrepaccess/repaccess-fr/main/fonts/TedNext-BoldItalic.woff') format('woff');
      font-weight: 800;
      font-style: italic;
    }

    @font-face {
      font-family: 'Ted Next';
      src: url('https://raw.githubusercontent.com/rogersrepaccess/repaccess-fr/main/fonts/TedNext-Light.woff') format('woff');
      font-weight: lighter;
      font-style: normal;
    }

    @font-face {
      font-family: 'Ted Next';
      src: url('https://raw.githubusercontent.com/rogersrepaccess/repaccess-fr/main/fonts/TedNext-LightItalic.woff') format('woff');
      font-weight: lighter;
      font-style: italic;
    }

    @font-face {
      font-family: 'Ted Next Condensed';
      src: url('https://raw.githubusercontent.com/rogersrepaccess/repaccess-fr/main/fonts/TedNext-Condensed.woff') format('woff');
      font-weight: normal;
      font-style: normal;
    }

    :root{
      --bg: #0b1220;
      --card: rgba(255,255,255,0.06);
      --card2: rgba(255,255,255,0.08);
      --text: rgba(255,255,255,0.92);
      --muted: rgba(255,255,255,0.68);
      --stroke: rgba(255,255,255,0.12);
      --radius: 18px;
      --footer: rgba(255,255,255,0.0);
    }

    *{ box-sizing:border-box; }
    body{
      margin:0;
      font-family: Ted Next;
      background:
      radial-gradient(1200px 600px at 20% 0%, rgba(64,120,255,0.18), transparent 55%),
      radial-gradient(900px 500px at 100% 30%, rgba(255,70,170,0.14), transparent 55%),
      var(--bg);
      color: var(--text);
    }

    .wrap{
      max-width: 1200px;
      margin: 0 auto;
      padding: 28px 18px 56px;
    }

    header{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:16px;
      margin-bottom:18px;
      border: 0px solid silver;
    }

    .headerLogoImage{
      width: 150px;
    }

    .brand{
      display:flex;
      flex-direction:column;
      gap:6px;
      border: 0px solid pink;
      width: 70%;
    }

    h1{
      font-size: 28px;
      margin:0;
      letter-spacing:0.2px;
    }

    .hint{
      color: var(--muted);
      font-size: 13px;
    }

    .meta{
      display: none;
      font-size: 13px;
      color: var(--muted);
      text-align:right;
      line-height:1.35;
    }

    /* --- Section cards --- */
    .section{
      background: linear-gradient(180deg, var(--card), transparent 140%);
      border: 1px solid var(--stroke);
      border-radius: var(--radius);
      padding: 18px;
      margin-top: 16px;
      box-shadow: 0 18px 40px rgba(0,0,0,0.25);
      backdrop-filter: blur(10px);
    }

    .section-title{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap: 12px;
      margin: 0 0 14px 0;
    }

    .section-title h2{
      margin:0;
      font-size: 18px;
      letter-spacing:0.2px;
    }

    .empty{
      color: var(--muted);
      font-size: 13px;
      padding: 10px 2px 2px;
    }

    /* --- Grids --- */
    .grid6{
      display:grid;
      grid-template-columns: repeat(6, minmax(0, 1fr));
      gap: 12px;
    }

    @media (max-width: 1100px){
      .grid6{ grid-template-columns: repeat(3, minmax(0, 1fr)); }
    }

    @media (max-width: 650px){
      .grid6{ grid-template-columns: repeat(2, minmax(0, 1fr)); }
    }

    /* --- Default Buttons (sections 2/3/5 + modal) --- */
    .btn{
      display:flex;
      align-items:center;
      gap: 12px;
      width:100%;
      text-decoration:none;
      color: var(--text);
      background: rgba(255,255,255,0.06);
      border: 1px solid rgba(255,255,255,0.14);
      border-radius: 16px;
      transition: transform .12s ease, background .12s ease, border-color .12s ease;
      user-select:none;
    }

    .btn:hover{
      transform: translateY(-1px);
      background: rgba(255,255,255,0.085);
      border-color: rgba(255,255,255,0.20);
    }

    .btn:active{ transform: translateY(0px) scale(0.99); }
    .btn .icon{
      width: 44px;
      height: 44px;
      flex: 0 0 44px;
      border-radius: 0px;
      background: none;
      display:flex;
      align-items:center;
      justify-content:center;
      overflow:hidden;
    }

    .btn .icon img{
      width: 100%;
      height: 100%;
      object-fit: cover;
    }

    .btn .label{
      font-weight: 650;
      letter-spacing:0.1px;
      line-height:1.15;
      font-size: 14px;
    }

    .btn-large{ padding: 16px 14px; min-height: 78px; }
    .btn-large .icon{ width: 52px; height:52px; flex-basis:52px; border-radius: 0px; }
    .btn-large .label{ font-size: 15px; }
    .btn-medium{ padding: 12px 12px; min-height: 64px; }
    .btn-quick{ padding: 10px 12px; min-height: 56px; }
    .btn-quick .icon{ height:40px; width: 40px; border-radius: 0px; border: 0px solid red; padding: 5px;}
    .btn-quick .icon img{ height:35px; width: 35px;}
    .btn-quick .label{ font-size: 13.5px; }
    /* --- NEW: Section 1 "Outils" buttons (image + bottom title bar) --- */
    .toolCard{
      display:flex;
      flex-direction:column;
      width:100%;
      text-decoration:none;
      border-radius: 20px;
      overflow:hidden;
      border: 1px solid rgba(255,255,255,0.14);
      background: rgba(255,255,255,0.06);
      box-shadow: 0 18px 40px rgba(0,0,0,0.22);
      transition: transform .12s ease, border-color .12s ease, background .12s ease;
      user-select:none;
      height: 150px;
    }

    .toolCard:hover{
      transform: translateY(-1px);
      border-color: rgba(255,255,255,0.22);
      background: rgba(255,255,255,0.075);
      opacity: 0.85;
    }

    .toolCard:active{ transform: translateY(0px) scale(0.99); }
    .toolCardMedia{
      /* prend tout lÔøΩÔøΩÔøΩespace restant dans la carte */
      flex: 1 1 auto;
      /* hauteur constante de l'image (reste constant puisque le titre est fixe) */
      min-height: 90px;            /* ajuste au besoin */
      background: rgba(80,220,230,0.20);
      position: relative;
    }

    .toolCardMedia img{
      position:absolute;
      inset:0;
      width:100%;
      height:100%;
      object-fit: cover;
    }

    .toolCardTitle{
      /* hauteur constante du bandeau de titre */
      height: 86px;                 /* ajuste si tu veux plus/moins haut */
      padding: 10px 18px 20px;
      background: #f0f0f0;
      color: #0b0b0b;
      font-weight: 900;
      font-size: 16px;
      line-height: 1.05;
      letter-spacing: 0.2px;
      /* forcer le texte ÔøΩÔøΩ max 2 lignes, sans changer la hauteur */
      display: -webkit-box;
      -webkit-box-orient: vertical;
      -webkit-line-clamp: 2;        /* max 2 lignes */
      overflow: hidden;
    }

    .toolCardDisabled{
      opacity: 0.55;
      pointer-events:none;
    }

    /* --- Section 3: two columns --- */
    .twoCols{
      display:grid;
      grid-template-columns: 1fr 1fr;
      gap: 14px;
    }

    @media (max-width: 900px){
      .twoCols{ grid-template-columns: 1fr; }
    }

    .subsection{
      background: linear-gradient(180deg, var(--card2), transparent 160%);
      border: 1px solid var(--stroke);
      border-radius: 16px;
      padding: 14px;
    }

    #quickRogersTitle{
      margin-bottom: 10px;
    }

    #quickFidoTitle{
      margin-bottom: 10px;
    }

    .subsection-rogers{
      background: linear-gradient(360deg,rgba(255, 255, 255, 0) 0%, rgba(218, 41, 28, 0.18) 100%);
      border: 1px solid var(--stroke);
      border-radius: 16px;
      padding: 14px;
    }

    .subsection-fido{
      background: linear-gradient(360deg,rgba(255, 255, 255, 0) 0%, rgba(0, 175, 171, 0.18) 100%);
      border: 1px solid var(--stroke);
      border-radius: 16px;
      padding: 14px;
    }

    .subsection h3{
      margin: 0 0 10px 0;
      font-size: 15px;
      letter-spacing:0.15px;
    }

    .stack{
      display:grid;
      gap: 10px;
    }

    .rfIcon{
      height: 25px;
    }

    /* --- Section 0: Store lookup (header) --- */
    .storeLookup{
      display:flex;
      flex-direction:column;
      align-items:flex-end;
      gap:6px;
      min-width: 160px;
      border: 0px solid lime;
    }

    .storeRow{
      display:flex;
      align-items:center;
      gap:10px;
    }

    .storeLabel{
      font-size: 12.5px;
      color: var(--muted);
      white-space:nowrap;
    }

    .storeLabelIcon{
      width: 60px;
      margin-right: -5px;
    }

    .storeInput{
      width: 100px;
      height: 35px;
      padding-left: 10px;
      font-size: 20px;
      border-radius: 10px;
      border: 1px solid rgba(255,255,255,0.18);
      background: rgba(255,255,255,0.06);
      color: rgba(255,255,255,0.92);
      outline: none;
      font-family: Ted Next;
    }

    .storeInput::placeholder{ color: rgba(255,255,255,0.35); }
    .storeInput.error{
      border-color: rgba(255,80,80,0.90);
      box-shadow: 0 0 0 3px rgba(255,80,80,0.25);
    }

    .storeError{
      font-size:12px;
      color: rgba(255,130,130,0.95);
    }

    /* --- Modal --- */
    .modalBackdrop{
      position: fixed;
      inset: 0;
      background: rgba(0,0,0,0.55);
      display:flex;
      align-items:center;
      justify-content:center;
      padding: 18px;
      z-index: 9999;
    }

    .modalCard{
      width: min(920px, 100%);
      border-radius: 18px;
      border: 1px solid rgba(255,255,255,0.14);
      background: rgba(15,22,38,0.92);
      backdrop-filter: blur(12px);
      box-shadow: 0 30px 80px rgba(0,0,0,0.45);
    }

    .modalHeader{
      display:flex;
      align-items:center;
      justify-content:space-between;
      padding: 14px 14px 10px;
      border-bottom: 1px solid rgba(255,255,255,0.10);
    }

    .modalTitle{
      font-weight: 800;
      letter-spacing:0.2px;
    }

    .modalClose{
      border: 1px solid rgba(255,255,255,0.18);
      background: rgba(255,255,255,0.06);
      color: rgba(255,255,255,0.9);
      border-radius: 12px;
      padding: 6px 10px;
      cursor:pointer;
    }

    .modalBody{ padding: 14px; }
    /* ÔøΩÔøΩÔøΩ NEW: Store modal grid (3-wide, centered if ÔøΩÔøΩÔøΩ) */
    .storeModalGrid{
      display:grid;
      gap: 12px;
      grid-template-columns: repeat(3, minmax(0, 1fr));
      justify-content:center;   /* centre la grille si elle ne remplit pas */
      align-content:start;
      justify-items:stretch;    /* chaque bouton prend la largeur de sa colonne */
    }

    /* Largeur "constante" des colonnes, mÔøΩÔøΩme si 1 ou 2 boutons */
    .storeModalGrid.cols-1,
    .storeModalGrid.cols-2,
    .storeModalGrid.cols-3{
      grid-template-columns: repeat(3, minmax(0, 1fr));
    }

    /* On limite la largeur totale du groupe ÔøΩÔøΩ 3 colonnes + gaps, puis on centre */
    .storeModalGrid{
      max-width: 840px;
      margin: 0 auto;           /* centre horizontalement */
    }

    @media (max-width: 900px){
      .storeModalGrid{
        grid-template-columns: repeat(2, minmax(0, 1fr));
        max-width: 620px;
      }
      .storeModalGrid.cols-1,
      .storeModalGrid.cols-2,
      .storeModalGrid.cols-3{
        grid-template-columns: repeat(2, minmax(0, 1fr));
      }
    }

    @media (max-width: 520px){
      .storeModalGrid{
        grid-template-columns: 1fr;
        max-width: 360px;
      }
      .storeModalGrid.cols-1,
      .storeModalGrid.cols-2,
      .storeModalGrid.cols-3{
        grid-template-columns: 1fr;
      }
    }

    /* --- Section 4: Competition --- */
    .competitionGrid{
      display:grid;
      gap: 12px;
    }

    .compCard{
      border: 1px solid rgba(255,255,255,0.12);
      background: rgba(255,255,255,0.05);
      border-radius: 10px;
      padding: 12px;
    }

    .compHeader{
      display:flex;
      align-items:center;
      gap:10px;
      margin-bottom: 10px;
    }

    .compLogo{
      height: 28px;
      width: auto;
      max-width: 130px;
      object-fit: contain;
      display:block;
      filter: drop-shadow(0 10px 16px rgba(0,0,0,0.25));
    }

    .compTitle{
      display:none;
      font-weight: 800;
      font-size: 14px;
      letter-spacing:0.15px;
      line-height:1.1;
    }

    .compBtns{
      display:grid;
      gap:10px;
    }

    .btnTextOnly{
      padding: 10px 12px;
      min-height: 40px;
      justify-content:center;
      text-align:center;
    }

    .btnTextOnly .label{
      font-size: 13.5px;
      font-weight: 750;
    }

    /* --- Section 5: Reports --- */
    .badgeNum{
      width: 44px;
      height: 44px;
      flex:0 0 44px;
      border-radius: 14px;
      background: rgba(255,255,255,0.10);
      border: 1px solid rgba(255,255,255,0.14);
      display:flex;
      align-items:center;
      justify-content:center;
      font-weight: 900;
      letter-spacing:0.3px;
    }

    /* --- Section 5: style des boutons "Rapports" --- */
    .reportBtn{
      border-radius: 18px;                 /* coins */
      background: #4e148c;  /* fond */
      border: 1px solid rgba(255,255,255,0.18);
      min-height: 60px;                    /* hauteur */
    }

    .reportBtn:hover{
      background: #2a084f;
      border-color: rgba(255,255,255,0.26);
    }

    .languageBtn{
      background-color: none;
      color: white;
      width: 100px;
      text-align: center;
      text-decoration: none;
      display: inline-block;
      border: 0px solid cyan;
    }

    #languageBtnElement{
      background-color: #f0f0f0;
      color: #0b1220;
      width: 100px;
      height: 35px;
      border-radius: 10px;
      line-height: 35px;
      text-align: center;
      text-decoration: none;
      display: inline-block;
      border: 0px solid cyan;
      font-weight: bold;
      transition-duration: 150ms;
    }

    #languageBtnElement:hover{
      opacity: 0.85;
    }

    .footer{
      background: none;
      border-top: 1px solid #ffffff1f;
      border-radius: 0px;
      padding-top: 18px;
      margin-top: 40px;
    }

    .footerDiv{
      display: flex;
      flex-direction: row;
      color: white;
    }

    .footerRow2{
      display: flex;
      flex-direction: row;
      width: 100%;
      color: white;
      font-style: italic;
      margin-top: 25px;
      opacity: 0.65;
      text-align: center;
      justify-content: center;
    }

    .footerLink1{
      display: flex;
      flex-direction: column;
      width: 20%;
    }

    .footerLink{
      display: flex;
      flex-direction: column;
      width: 20%;
      text-align: center;
    }

    .editBtn{
      display: flex;
      flex-direction: column;
      width: 20%;
      text-align: right;
    }

    #editBtnElement{
      background-color: #f0f0f0;
      color: #0b1220;
      width: 100px;
      height: 35px;
      border-radius: 10px;
      line-height: 35px;
      text-align: center;
      text-decoration: none;
      display: inline-block;
      border: 0px solid cyan;
      font-weight: bold;
      transition-duration: 150ms;
      margin-left: 130px;
    }

    #editBtnElement:hover{
      opacity: 0.85;
    }

    .iconoir-edit-pencil{
      padding-top: 7px;
    }

    /* ===== Loader overlay ===== */
    .loader-overlay{
      position: fixed;
      inset: 0;
      display: grid;
      place-items: center;
      background: rgba(0,0,0,0.65);
      z-index: 10000; /* au-dessus de ton modal (9999) */
    }

    .loader-box{
      display: grid;
      gap: 14px;
      justify-items: center;
      padding: 22px 26px;
      border-radius: 14px;
      background: rgba(255,255,255,0.08);
      backdrop-filter: blur(8px);
      border: 1px solid rgba(255,255,255,0.14);
    }

    .spinner{
      width: 44px;
      height: 44px;
      border: 5px solid rgba(255,255,255,0.25);
      border-top-color: rgba(255,255,255,0.95);
      border-radius: 50%;
      animation: spin 0.9s linear infinite;
    }

    .loader-text{
      font: 600 14px/1.2 system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
      color: white;
    }

    @keyframes spin{ to{ transform: rotate(360deg); } }
    /* petite disparition douce */
    .loader-overlay.is-hidden{
      opacity: 0;
      pointer-events: none;
      transition: opacity 180ms ease;
    }

    /* ===== Theme toggle ===== */
    .themeToggle{
      display:flex;
      align-items:center;
      gap:10px;
      margin-left: 14px; /* ajuste selon ton header */
      user-select: none;
    }

    .themeIcon{
      font-size: 18px;
      line-height: 1;
      transition: opacity 160ms ease;
    }

    /* Par dÔøΩÔøΩfaut (mode sombre): lune active, soleil fade */
    .themeToggle .moon{ opacity: 1; }
    .themeToggle .sun{ opacity: 0.35; }
    /* Quand mode clair: soleil actif, lune fade */
    .themeToggle.is-light .moon{ opacity: 0.35; }
    .themeToggle.is-light .sun{ opacity: 1; }
    /* Switch */
    .switch{
      position: relative;
      display: inline-block;
      width: 46px;
      height: 24px;
    }

    .switch input{
      opacity: 0;
      width: 0;
      height: 0;
    }

    .slider{
      position: absolute;
      inset: 0;
      cursor: pointer;
      border-radius: 999px;
      border: 1px solid var(--stroke);
      background: rgba(255,255,255,0.14);
      transition: 180ms ease;
    }

    .slider:before{
      content: "";
      position: absolute;
      width: 18px;
      height: 18px;
      left: 3px;
      top: 2px;
      border-radius: 50%;
      background: rgba(255,255,255,0.92);
      transition: 180ms ease;
    }

    /* Bouton ÔøΩÔøΩ droite quand checked (mode clair) */
    .switch input:checked + .slider:before{
      transform: translateX(22px);
    }

    /* Apparence du rail en mode clair (optionnel) */
    .switch input:checked + .slider{
      background: rgba(0,0,0,0.10);
    }

    /* ===== Hook du thÔøΩÔøΩme clair ===== */
    /* Tu personnalises librement les variables ici */
    body.theme-light{
      /* EXEMPLES ÔøΩÔøΩÔøΩ ajuste comme tu veux */
      --bg: #f4f6fb;
      --card: rgba(0,0,0,0.04);
      --card2: rgba(0,0,0,0.06);
      --text: rgba(0,0,0,0.92);
      --muted: rgba(0,0,0,0.65);
      --stroke: rgba(0,0,0,0.12);
    }

    body.theme-light .btn-medium {
      background: #404040;
      background: linear-gradient(90deg,rgba(186, 40, 30, 1) 0%, rgba(218, 41, 28, 1) 100%);
      color: white;
    }

    body.theme-light .section{
      background: linear-gradient(180deg, var(--card), transparent 140%);
      border: 1px solid var(--stroke);
      border-radius: var(--radius);
      padding: 18px;
      margin-top: 16px;
      box-shadow: 0 0px 20px rgba(0,0,0,0.10);
      backdrop-filter: blur(10px);
    }

    body.theme-light .toolCard{
      display:flex;
      flex-direction:column;
      width:100%;
      text-decoration:none;
      border-radius: 20px;
      overflow:hidden;
      border: 0px solid #DA291C;
      background: rgba(255,255,255,0.06);
      box-shadow: 0 0px 20px rgba(0,0,0,0.20);
      transition: transform .12s ease, border-color .12s ease, background .12s ease;
      user-select:none;
      height: 150px;
    }

    body.theme-light .toolCard:hover{
      transform: translateY(-1px);
      border-color: rgba(255,255,255,0.22);
      background: rgba(255,255,255,0.075);
      opacity: 0.85;
    }

    body.theme-light .toolCard:active{ transform: translateY(0px) scale(0.99); }
    body.theme-light .btn-quick-rogers{
      background: #404040;
      background: linear-gradient(90deg,rgba(186, 40, 30, 1) 0%, rgba(218, 41, 28, 1) 100%);
      color: white;
    }

    body.theme-light .btn-quick-fido{
      background: #404040;
      background: linear-gradient(90deg,rgba(2, 153, 150, 1) 0%, rgba(0, 175, 171, 1) 100%);
      color: white;
    }

    body.theme-light #compSection{
      background: linear-gradient(90deg,rgba(13, 6, 89, 1) 0%, rgba(25, 3, 166, 1) 100%);
    }

    body.theme-light #competitionTitle{
      color: white;
    }

    body.theme-light .compCard{
      border: 0px solid rgba(255,255,255,0.12);
      background: none;
      border-radius: 10px;
      padding: 5px;
    }

    body.theme-light .btnTextOnly{
      border: 1px solid white;
      background: rgba(255, 255, 255, 0.50);
      color: white;
    }

    body.theme-light .compLogo{
      height: 50px;
      padding: 10px;
      width: 100%;
      max-width: 130px;
      object-fit: contain;
      display:block;
      background: none;
      border-radius: 10px;
    }

    body.theme-light .reportBtn{
      border-radius: 18px;                 /* coins */
      background: linear-gradient(90deg,rgba(78, 20, 140, 1) 0%, rgba(136, 66, 212, 1) 100%);
      border: 1px solid rgba(255,255,255,0.18);
      min-height: 60px;                    /* hauteur */
    }

    body.theme-light .storeInput{
      width: 100px;
      height: 35px;
      padding-left: 10px;
      font-size: 20px;
      border-radius: 10px;
      border: 1px solid #404040;
      background: rgba(255,255,255,0.06);
      color: #404040;
      outline: none;
      font-family: Ted Next;
    }

    body.theme-light .storeInput::placeholder{ color: #404040; }
    body.theme-light .storeInput.error{
      border-color: rgba(255,80,80,0.90);
      box-shadow: 0 0 0 3px rgba(255,80,80,0.25);
    }

    body.theme-light .storeError{
      font-size:12px;
      color: rgba(255,130,130,0.95);
    }

    body.theme-light #languageBtnElement{
      background-color: #D1D1D1;
      color: #0b1220;
      width: 100px;
      height: 35px;
      border-radius: 10px;
      line-height: 35px;
      text-align: center;
      text-decoration: none;
      display: inline-block;
      border: 0px solid cyan;
      font-weight: bold;
      transition-duration: 150ms;
    }

    body.theme-light .footer{
      background: none;
      border-top: 1px solid #dadada;
      border-radius: 0px;
      padding-top: 18px;
      margin-top: 40px;
    }

    body.theme-light .footerDiv{
      display: flex;
      flex-direction: row;
      color: black;
    }

    body.theme-light .footerRow2{
      display: flex;
      flex-direction: row;
      width: 100%;
      color: black;
      font-style: italic;
      margin-top: 25px;
      opacity: 0.65;
      text-align: center;
      justify-content: center;
    }

    body.theme-light .footerLink1{
      display: flex;
      flex-direction: column;
      width: 20%;
      -webkit-filter: invert(100%);
      filter: invert(100%);
    }

    body.theme-light .footerLink{
      display: flex;
      flex-direction: column;
      width: 20%;
      text-align: center;
      -webkit-filter: invert(100%);
      filter: invert(100%);
    }

    body.theme-light .editBtn{
      display: flex;
      flex-direction: column;
      width: 20%;
      text-align: right;
    }

    body.theme-light #editBtnElement{
      background-color: #D1D1D1;
      color: #0b1220;
      width: 100px;
      height: 35px;
      border-radius: 10px;
      line-height: 35px;
      text-align: center;
      text-decoration: none;
      display: inline-block;
      border: 0px solid cyan;
      font-weight: bold;
      transition-duration: 150ms;
      margin-left: 130px;
    }

    body.theme-light #editBtnElement:hover{
      opacity: 0.85;
    }

    /* --- Modal --- */
    body.theme-light .modalBackdrop{
      position: fixed;
      inset: 0;
      background: rgba(0,0,0,0.55);
      display:flex;
      align-items:center;
      justify-content:center;
      padding: 18px;
      z-index: 9999;
    }

    body.theme-light .modalCard{
      width: min(920px, 100%);
      border-radius: 18px;
      border: 1px solid rgba(255,255,255,0.14);
      background: #f4f6fb;
      backdrop-filter: blur(12px);
      box-shadow: 0 30px 80px rgba(0,0,0,0.45);
    }

    body.theme-light .modalHeader{
      display:flex;
      align-items:center;
      justify-content:space-between;
      padding: 14px 14px 10px;
      border-bottom: 1px solid rgba(255,255,255,0.10);
    }

    body.theme-light .modalTitle{
      font-weight: 800;
      letter-spacing:0.2px;
    }

    body.theme-light .modalClose{
      border: 1px solid rgba(255,255,255,0.18);
      background: #ADADAD;
      color: white;
      border-radius: 12px;
      padding: 6px 10px;
      cursor:pointer;
    }

    body.theme-light .modalBody{ padding: 14px; }
    /* ÔøΩÔøΩÔøΩ NEW: Store modal grid (3-wide, centered if ÔøΩÔøΩÔøΩ) */
    body.theme-light .storeModalGrid{
      display:grid;
      gap: 12px;
      grid-template-columns: repeat(3, minmax(0, 1fr));
      justify-content:center;   /* centre la grille si elle ne remplit pas */
      align-content:start;
      justify-items:stretch;    /* chaque bouton prend la largeur de sa colonne */
    }

    /* Largeur "constante" des colonnes, mÔøΩÔøΩme si 1 ou 2 boutons */
    body.theme-light .storeModalGrid.cols-1,
    body.theme-light .storeModalGrid.cols-2,
    body.theme-light .storeModalGrid.cols-3{
      grid-template-columns: repeat(3, minmax(0, 1fr));
    }

    /* On limite la largeur totale du groupe ÔøΩÔøΩ 3 colonnes + gaps, puis on centre */
    body.theme-light .storeModalGrid{
      max-width: 840px;
      margin: 0 auto;           /* centre horizontalement */
    }

    @media (max-width: 900px){
      body.theme-light .storeModalGrid{
        grid-template-columns: repeat(2, minmax(0, 1fr));
        max-width: 620px;
      }
      body.theme-light .storeModalGrid.cols-1,
      body.theme-light .storeModalGrid.cols-2,
      body.theme-light .storeModalGrid.cols-3{
        grid-template-columns: repeat(2, minmax(0, 1fr));
      }
    }

    @media (max-width: 520px){
      body.theme-light .storeModalGrid{
        grid-template-columns: 1fr;
        max-width: 360px;
      }
      body.theme-light .storeModalGrid.cols-1,
      body.theme-light .storeModalGrid.cols-2,
      body.theme-light .storeModalGrid.cols-3{
        grid-template-columns: 1fr;
      }
    }

    body.theme-light .btn-large{
      background: linear-gradient(90deg,rgba(186, 40, 30, 1) 0%, rgba(218, 41, 28, 1) 100%);
      color: white;
    }
    
    /* INFO PAGE */
    
    h1 {
      font-size: 36px;
      text-align: center;
      margin-top: 30px;
      font-weight: 800;
    }
    
    h2 {
      font-size: 24px;
      margin-top: 30px;
      font-weight: bold;
    }
    
    p {
      font-size: 18px;
      text-align: justify;
    }
    
    .h-line{
      border-bottom: 1px solid white;
      opacity: 0.5;
      margin-top: 20px;
      margin-bottom: 20px;
    }
    
    body.theme-light .h-line{
      border-bottom: 1px solid black;
      opacity: 0.5;
      margin-top: 20px;
      margin-bottom: 20px;
    }
    
    .bulletList {
      font-size: 18px;
      padding-left: 10px;
    }
    
  </style>
</head>

<body>
  


  <div class="wrap">
    
    <header>
      <div class="brand">
        <div class="headerLogo">
          <a href="https://rogersrepaccess.github.io/repaccess-fr/">
            <img
                 class="headerLogoImage theme-img"
                 src="https://github.com/rogersrepaccess/repaccess-fr/blob/main/images/logo_repaccess_v1_blanc.png?raw=true"
                 data-src-dark="https://github.com/rogersrepaccess/repaccess-fr/blob/main/images/logo_repaccess_v1_blanc.png?raw=true"
                 data-src-light="https://github.com/rogersrepaccess/repaccess-fr/blob/main/images/logo_repaccess_v1_rouge.png?raw=true"
                 alt="RepAccess"
                 />
          </a>
        </div>
      </div>

      <!-- Section 0 (header): boutique lookup -->

      <div class="themeToggle" id="themeToggle" title="Mode sombre / mode clair">
        <span class="themeIcon moon" aria-hidden="true">üåô</span>

        <label class="switch" aria-label="Basculer entre mode sombre et mode clair">
          <input type="checkbox" id="themeSwitch" />
          <span class="slider"></span>
        </label>

        <span class="themeIcon sun" aria-hidden="true">‚òÄÔ∏è</span>
      </div>

      <div class="languageBtn" id="languageBtn">
        <a
           id="languageBtnElement"
           href="https://rogersrepaccess.github.io/tcu-en/"
           target="_self"
           >English</a>
      </div>
    </header>

    <section class="pageContent" aria-label="pageContent">

      <div class="pageContentDiv" id="pageContentDiv">
        
        <h1>Termes et conditions d‚Äôutilisation</h1>
        
        <div class="h-line"></div>

        <p>Les pr√©sents Termes et conditions (les ¬´ Termes ¬ª) r√©gissent l‚Äôacc√®s et l‚Äôutilisation du site web et/ou programme (le ¬´ Programme ¬ª). En acc√©dant au Programme ou en l‚Äôutilisant, vous reconnaissez avoir lu, compris et accept√© d‚Äô√™tre li√© par les pr√©sents Termes. Si vous n‚Äôacceptez pas les Termes, vous devez cesser d‚Äôutiliser le Programme.</p>

        <h2>1. Objet du Programme</h2>
        <p>Le Programme a pour but d‚Äôaccompagner des vendeurs dans leurs t√¢ches quotidiennes et leurs processus de vente en centralisant des liens, outils et ressources. Le Programme est fourni √† titre d‚Äôaide op√©rationnelle et ne remplace pas les politiques, directives, formations, proc√©dures, ni les outils officiels de l‚Äôemployeur ou de toute organisation concern√©e.</p>

        <h2>2. Acc√®s public et utilisateurs vis√©s</h2>
        <p>Le Programme est accessible publiquement sur Internet. Toutefois, il est con√ßu principalement pour un usage interne par des employ√©s ou repr√©sentants de vente de l‚Äôentreprise √† laquelle il est destin√© (les ¬´ Utilisateurs vis√©s ¬ª).</p>
        <p>Si vous n‚Äô√™tes pas un Utilisateur vis√©, vous pouvez acc√©der au Programme, mais vous reconnaissez que son contenu peut ne pas √™tre adapt√© √† votre situation et que vous utilisez le Programme √† vos propres risques.</p>

        <h2>3. Aucune affiliation officielle avec Rogers</h2>
        <p>Bien que le Programme puisse √™tre utilis√© par des employ√©s de Rogers Communications Canada Inc. (¬´ Rogers ¬ª), Rogers n‚Äôest pas l‚Äô√©diteur du Programme et n‚Äôy est pas associ√© officiellement.</p>

        <div class="bulletList">
          <p>‚Ä¢ Le Programme n‚Äôest pas un produit, service ou outil officiel de Rogers.</p>
          <p>‚Ä¢ Rogers n‚Äôendosse pas le Programme et n‚Äôassume aucune responsabilit√© quant √† son contenu, sa disponibilit√© ou son fonctionnement.</p>
          <p>‚Ä¢ Aucune relation contractuelle, de partenariat, de mandat, de repr√©sentation ou autre n‚Äôexiste entre Rogers et le Programme.</p>
        </div>

        <h2>4. Utilisation sous votre responsabilit√©</h2>
        <p>Vous √™tes seul responsable de l‚Äôutilisation que vous faites du Programme, incluant la conformit√© de vos actions avec les politiques internes, proc√©dures, consignes, obligations professionnelles et r√®gles applicables. Toute d√©cision, transaction, communication ou recommandation effectu√©e √† partir du Programme demeure sous votre responsabilit√© exclusive.</p>

        <p>Le responsable du Programme, l‚Äôentreprise, ainsi que toute personne impliqu√©e dans son d√©veloppement, son exploitation ou sa maintenance d√©clinent toute responsabilit√© quant aux cons√©quences d√©coulant de l‚Äôutilisation, de la mauvaise utilisation ou de l‚Äôimpossibilit√© d‚Äôutiliser le Programme.</p>

        <h2>5. Absence de garantie</h2>
        <p>Le Programme est fourni ¬´ tel quel ¬ª et ¬´ selon la disponibilit√© ¬ª. Aucune garantie, expresse ou implicite, n‚Äôest donn√©e quant :</p>

        <div class="bulletList">
          <p>‚Ä¢ l‚Äôexactitude, l‚Äôexhaustivit√© ou l‚Äôactualit√© des informations et ressources;</p>
          <p>‚Ä¢ l‚Äôabsence d‚Äôerreurs, de bogues, d‚Äôinterruptions ou de composants nuisibles;</p>
          <p>‚Ä¢ l‚Äôad√©quation du Programme √† un besoin particulier ou √† un r√©sultat attendu.</p>
        </div>

        <h2>6. Exactitude, mises √† jour et changements</h2>
        <p>Le Programme peut afficher des informations, pratiques ou ressources susceptibles de changer sans pr√©avis. Le responsable du Programme peut, √† tout moment, modifier, corriger, r√©organiser ou retirer du contenu.</p>
        <p>Vous √™tes responsable de v√©rifier les informations aupr√®s des sources officielles pertinentes (p. ex. outils internes, politiques, communications officielles, documentation de l‚Äôemployeur) avant de vous y fier dans un contexte op√©rationnel ou de vente.</p>

        <h2>7. Liens vers des sites et outils tiers</h2>
        <p>Le Programme peut contenir des liens vers des sites web, applications ou outils tiers (incluant des ressources internes officielles accessibles via authentification). Ces liens sont fournis pour commodit√© seulement. Le responsable du Programme n‚Äôexerce aucun contr√¥le sur ces sites et ne peut √™tre tenu responsable :</p>

        <div class="bulletList">
          <p>‚Ä¢ de leur contenu, exactitude, disponibilit√©, s√©curit√© ou performance;</p>
          <p>‚Ä¢ de leurs pratiques de confidentialit√© ou conditions d‚Äôutilisation;</p>
          <p>‚Ä¢ de tout dommage, perte ou incident d√©coulant de leur utilisation.</p>
        </div>

        <h2>8. Aucune collecte ni stockage de donn√©es</h2>
        <p>Le Programme ne collecte ni ne stocke volontairement des renseignements personnels ou des donn√©es d‚Äôutilisation (p. ex. comptes, profils, historique, formulaires, bases de donn√©es). Aucun compte utilisateur n‚Äôest requis pour acc√©der au Programme.</p>
        <p>Cela dit, comme tout service web accessible publiquement, certaines informations techniques peuvent √™tre trait√©es automatiquement par l‚Äôinfrastructure d‚Äôh√©bergement ou par votre navigateur (p. ex. requ√™tes r√©seau, journaux techniques standards, cache), sans que le responsable du Programme n‚Äôen fasse un usage visant √† identifier des individus.</p>

        <h2>9. Confidentialit√© et informations sensibles</h2>
        <p>Vous √™tes responsable de respecter la confidentialit√© des informations auxquelles vous avez acc√®s dans le cadre de votre travail. Vous vous engagez notamment √† ne pas :</p>

        <div class="bulletList">
          <p>‚Ä¢ saisir, copier, transmettre ou publier des renseignements personnels, confidentiels ou sensibles via le Programme;</p>
          <p>‚Ä¢ partager des informations internes (p. ex. proc√©dures, prix, offres, documents, acc√®s) √† des personnes non autoris√©es;</p>
          <p>‚Ä¢ utiliser le Programme d‚Äôune mani√®re pouvant entra√Æner une fuite de donn√©es, une atteinte √† la vie priv√©e ou un manquement √† vos obligations.</p>
        </div>

        <h2>10. Usage acceptable</h2>
        <p>Vous vous engagez √† utiliser le Programme de mani√®re l√©gale, conforme et raisonnable. Il est notamment interdit :</p>

        <div class="bulletList">
          <p>‚Ä¢ d‚Äôutiliser le Programme √† des fins frauduleuses, trompeuses ou ill√©gales;</p>
          <p>‚Ä¢ de tenter d‚Äôacc√©der √† des zones non autoris√©es, de contourner des mesures de s√©curit√© ou d‚Äôinterf√©rer avec le fonctionnement du Programme;</p>
          <p>‚Ä¢ d‚Äôintroduire des virus, scripts ou contenus malveillants;</p>
          <p>‚Ä¢ d‚Äôextraire massivement du contenu (scraping) ou de surcharger le service de fa√ßon abusive;</p>
          <p>‚Ä¢ d‚Äôutiliser le Programme d‚Äôune mani√®re portant atteinte aux droits d‚Äôautrui ou √† la r√©putation d‚Äôune personne ou organisation.</p>
        </div>

        <h2>11. Propri√©t√© intellectuelle</h2>
        <p>Sauf indication contraire, le Programme, sa structure, son interface, son code, son design et ses √©l√©ments originaux sont prot√©g√©s par des droits de propri√©t√© intellectuelle. Toute reproduction, distribution, modification ou utilisation non autoris√©e est interdite, sauf accord √©crit pr√©alable.</p>
        <p>Les marques de commerce, logos et noms de produits ou services mentionn√©s demeurent la propri√©t√© de leurs d√©tenteurs respectifs. Leur pr√©sence dans le Programme ne constitue pas un endossement.</p>

        <h2>12. Disponibilit√© et fin du service</h2>
        <p>Le Programme peut √™tre mis √† jour, modifi√©, remplac√©, suspendu ou interrompu en tout temps, temporairement ou d√©finitivement, avec ou sans pr√©avis. Le responsable du Programme n‚Äôest pas responsable de toute cons√©quence d√©coulant de tels changements, incluant la perte d‚Äôacc√®s ou l‚Äôindisponibilit√© du contenu.</p>

        <h2>13. Limitation de responsabilit√©</h2>
        <p>Dans la mesure permise par la loi applicable, le responsable du Programme, l‚Äôentreprise et toute personne impliqu√©e dans le Programme ne pourront en aucun cas √™tre tenus responsables de dommages directs ou indirects, incluant notamment :</p>

        <div class="bulletList">
          <p>‚Ä¢ pertes de revenus, profits, commissions ou occasions d‚Äôaffaires;</p>
          <p>‚Ä¢ pertes de donn√©es ou interruption de travail;</p>
          <p>‚Ä¢ erreurs de vente, communications inexactes ou d√©cisions prises en se fondant sur le Programme;</p>
          <p>‚Ä¢ r√©clamations, sanctions, mesures disciplinaires ou cons√©quences professionnelles li√©es √† une utilisation non conforme;</p>
          <p>‚Ä¢ tout dommage r√©sultant d‚Äôerreurs, d‚Äôomissions, de liens tiers ou d‚Äôindisponibilit√©.</p>
        </div>

        <h2>14. Indemnisation</h2>
        <p>Vous acceptez d‚Äôindemniser et de tenir indemnes le responsable du Programme, l‚Äôentreprise et toute personne impliqu√©e dans le Programme contre toute r√©clamation, perte, responsabilit√©, dommage, co√ªt ou d√©pense (incluant les frais juridiques raisonnables) d√©coulant de votre utilisation du Programme, de votre non-respect des Termes, ou de votre violation de droits d‚Äôun tiers.</p>

        <h2>15. Modifications des Termes</h2>
        <p>Les pr√©sents Termes peuvent √™tre modifi√©s √† tout moment. Toute modification entre en vigueur d√®s sa publication sur cette page. En continuant d‚Äôutiliser le Programme apr√®s une modification, vous acceptez les Termes mis √† jour. Il vous incombe de consulter cette page p√©riodiquement.</p>

        <h2>16. Divisibilit√©</h2>
        <p>Si une disposition des Termes est jug√©e invalide ou inapplicable, cette disposition sera appliqu√©e dans la mesure permise par la loi, et les autres dispositions demeureront en vigueur.</p>

        <h2>17. Droit applicable</h2>
        <p>Les pr√©sents Termes sont r√©gis par les lois applicables dans la province de Qu√©bec et les lois f√©d√©rales du Canada applicables, sans √©gard aux r√®gles de conflits de lois. Tout litige relatif au Programme sera soumis aux tribunaux comp√©tents du district judiciaire de Montr√©al (Qu√©bec), sauf disposition imp√©rative contraire.</p>

        <h2>18. Contact</h2>
        <p>Pour toute question concernant les pr√©sents Termes, vous pouvez contacter le responsable du Programme via les coordonn√©es communiqu√©es √† l‚Äôinterne.</p>

        <p><em>Derni√®re mise √† jour : 11 janvier 2026 13:55:21</em></p>
        
      </div>
      
    </section>

    <!-- Footer -->
    <section class="footer" aria-label="footer">
      <div class="footerDiv" id="footerDiv">
        <a
           class="footerLink1"
           id="footerLink"
           href="https://rogersrepaccess.github.io/repaccess-fr/tcu-fr"
           target="_blank"
           style="color:white; opacity: 0.85;"
           >
          Termes et conditions d'utilisation
        </a>

        <a
           class="footerLink"
           id="footerLink"
           href="https://rogersrepaccess.github.io/repaccess-fr/pc-fr"
           target="_blank"
           style="color:white; opacity: 0.85;"
           >
          Politique de confidentialit√©
        </a>

        <a
           class="footerLink"
           id="footerLink"
           href="https://rogersrepaccess.github.io/repaccess-fr/a-propos"
           target="_blank"
           style="color:white; opacity: 0.85;"
           >
          √Ä propos
        </a>

        <a
           class="footerLink"
           id="footerLink"
           href="https://rogersrepaccess.github.io/repaccess-fr/signaler-un-bogue"
           target="_blank"
           style="color:white; opacity: 0.85;"
           >
          Signaler un bogue
        </a>

        <div class="editBtn" id="editBtn">
          <a
             id="editBtnElement"
             href="https://docs.google.com/spreadsheets/d/1dvbS1s5sX8uPUB6b20ZTMf5eNOzjCXnf5U0jLL-GDbo/edit?usp=sharing"
             target="_blank"
             ><i class="iconoir-edit-pencil"></i>
            Modifier</a>
        </div>
      </div>

      <div class="footerDiv" id="footerDiv">
        <div class="footerRow2">
          Timoth√©e Vall√©e 2026 ¬©
        </div>
      </div>
    </section>
  
  </div>

  <!-- Modal: Boutique links -->
  <div id="storeModal" class="modalBackdrop" style="display:none;">
    <div
         class="modalCard"
         role="dialog"
         aria-modal="true"
         aria-labelledby="storeModalTitle"
         >
      <div class="modalHeader">
        <div class="modalTitle" id="storeModalTitle">Boutique</div>
        <button class="modalClose" id="storeModalClose" aria-label="Fermer">‚úï</button>
      </div>

      <div class="modalBody">
        <!-- ‚úÖ changed id/class so we control sizing/centering -->
        <div id="storeModalButtons" class="storeModalGrid cols-3"></div>
        <div class="empty" id="storeModalEmpty" style="display:none;">Aucun lien √† afficher.</div>
      </div>
    </div>
  </div>

  <script>
  // (Config)
  const WEBAPP_URL =
    "https://script.google.com/macros/s/AKfycbziLqBHO0OKnELiYMYG3SEoSRAKuEV4HnWb2amTdYh7adZPi3zodqhYTz_UD3ZmltBxEQ/exec";
  const UI_LANG = "fr";
  const FALLBACK_TO_FR = true;

  // (Fallback icon)
  const FALLBACK_ICON = "data:image/svg+xml;charset=utf-8," + encodeURIComponent(`

      <svg xmlns="http://www.w3.org/2000/svg" width="64" height="64">

        <rect width="64" height="64" rx="14" fill="rgba(255,255,255,0.14)"/>

        <path d="M18 34l10-10 8 8 10-10" stroke="rgba(255,255,255,0.75)" stroke-width="4" fill="none" stroke-linecap="round" stroke-linejoin="round"/>

      </svg>

    `);

  // (State)
  let APP_DATA = null;

  // (Loader elements)
  const loaderEl = document.getElementById("loaderOverlay");
  const loaderTextEl = document.getElementById("loaderText");

  // (Loader)
  function showLoader(text) {
    if (text) loaderTextEl.textContent = text;

    loaderEl.classList.remove("is-hidden");
    loaderEl.style.display = "grid";
    loaderEl.setAttribute("aria-busy", "true");
  }

  function hideLoader() {
    loaderEl.classList.add("is-hidden");
    loaderEl.setAttribute("aria-busy", "false");
    setTimeout(() => {
      loaderEl.style.display = "none";
    }, 200);
  }

  // (Helpers: HTML escaping + i18n)
  function escapeHtml(s) {
    return String(s ?? "")
      .replaceAll("&", "&amp;")
      .replaceAll("<", "&lt;")
      .replaceAll(">", "&gt;")
      .replaceAll('"', "&quot;")
      .replaceAll("'", "&#039;");
  }

  function pickLang(obj, lang) {
    if (!obj || typeof obj !== "object") return "";

    const v = String(obj[lang] ?? "").trim();
    if (v) return v;

    if (FALLBACK_TO_FR && lang !== "fr") return String(obj["fr"] ?? "").trim();
    return "";
  }

  function normalizeButton(item) {
    return {
      title: pickLang(item.title, UI_LANG),
      url: pickLang(item.url, UI_LANG),
      icon: item.icon || "",
    };
  }

  // (UI builders)
  function createButton(item, sizeClass) {
    const a = document.createElement("a");
    a.className = `btn ${sizeClass}`;
    a.target = "_blank";
    a.rel = "noopener";
    a.href = item.url || "#";

    const icon = document.createElement("div");
    icon.className = "icon";

    const img = document.createElement("img");
    img.alt = "";
    img.loading = "lazy";
    img.src = item.icon || FALLBACK_ICON;
    img.onerror = () => {
      img.src = FALLBACK_ICON;
    };
    icon.appendChild(img);

    const label = document.createElement("div");
    label.className = "label";
    label.innerHTML = escapeHtml(
      item.title || (UI_LANG === "fr" ? "(Sans titre)" : "(Untitled)")
    );

    a.appendChild(icon);
    a.appendChild(label);

    if (!item.url) {
      a.style.opacity = "0.55";
      a.style.pointerEvents = "none";
    }
    return a;
  }

  function createTextOnlyButton(labelText, url) {
    const a = document.createElement("a");
    a.className = "btn btnTextOnly";
    a.target = "_blank";
    a.rel = "noopener";
    a.href = url || "#";

    const label = document.createElement("div");
    label.className = "label";
    label.textContent = labelText;

    a.appendChild(label);

    if (!url) {
      a.style.opacity = "0.55";
      a.style.pointerEvents = "none";
    }
    return a;
  }

  function createToolCard(item) {
    const a = document.createElement("a");
    a.className = "toolCard";
    a.target = "_blank";
    a.rel = "noopener";
    a.href = item.url || "#";

    const media = document.createElement("div");
    media.className = "toolCardMedia";

    const img = document.createElement("img");
    img.alt = "";
    img.loading = "lazy";
    img.src = item.icon || FALLBACK_ICON;
    img.onerror = () => {
      img.src = FALLBACK_ICON;
    };
    media.appendChild(img);

    const title = document.createElement("div");
    title.className = "toolCardTitle";
    title.textContent = item.title || (UI_LANG === "fr" ? "(Sans titre)" : "(Untitled)");

    a.appendChild(media);
    a.appendChild(title);

    if (!item.url) {
      a.classList.add("toolCardDisabled");
    }
    return a;
  }

  function createReportButton(item) {
    const a = document.createElement("a");
    a.className = "btn btn-medium reportBtn";
    a.target = "_blank";
    a.rel = "noopener";
    a.href = item.url || "#";

    const badge = document.createElement("div");
    badge.className = "badgeNum";
    badge.textContent = item.badge || "‚Äî";

    const label = document.createElement("div");
    label.className = "label";
    label.innerHTML = escapeHtml(
      item.title || (UI_LANG === "fr" ? "(Sans titre)" : "(Untitled)")
    );

    a.appendChild(badge);
    a.appendChild(label);

    if (!item.url) {
      a.style.opacity = "0.55";
      a.style.pointerEvents = "none";
    }
    return a;
  }

  // (Render: sections)
  function renderToolsAndLinks(data) {
    const outilsSrc = data?.sections?.outils || [];
    const utilesSrc = data?.sections?.liensUtiles || [];
    const rogersSrc = data?.sections?.liensRapides?.rogers || [];
    const fidoSrc = data?.sections?.liensRapides?.fido || [];

    const outils = outilsSrc.map(normalizeButton).filter((x) => x.title || x.url || x.icon);
    const outilsGrid = document.getElementById("outilsGrid");
    outilsGrid.innerHTML = "";
    for (const it of outils) outilsGrid.appendChild(createToolCard(it));
    document.getElementById("outilsEmpty").style.display = outils.length ? "none" : "block";

    const utiles = utilesSrc.map(normalizeButton).filter((x) => !!x.url);
    const utilesGrid = document.getElementById("liensUtilesGrid");
    utilesGrid.innerHTML = "";
    for (const it of utiles) utilesGrid.appendChild(createButton(it, "btn-medium"));
    document.getElementById("liensUtilesEmpty").style.display = utiles.length ? "none" : "block";

    const rogers = rogersSrc.map(normalizeButton).filter((x) => !!x.url);
    const fido = fidoSrc.map(normalizeButton).filter((x) => !!x.url);

    const rogersQuick = document.getElementById("rogersQuick");
    const fidoQuick = document.getElementById("fidoQuick");
    rogersQuick.innerHTML = "";
    fidoQuick.innerHTML = "";

    for (const it of rogers) rogersQuick.appendChild(createButton(it, "btn-quick btn-quick-rogers"));
    for (const it of fido) fidoQuick.appendChild(createButton(it, "btn-quick btn-quick-fido"));

    document.getElementById("rogersEmpty").style.display = rogers.length ? "none" : "block";
    document.getElementById("fidoEmpty").style.display = fido.length ? "none" : "block";
  }

  function renderCompetition(list) {
    const wrap = document.getElementById("competitionGrid");
    const empty = document.getElementById("competitionEmpty");
    wrap.innerHTML = "";

    const normalized = (list || [])
      .map((s) => ({
        title: pickLang(s.title, UI_LANG),
        icon: s.icon || "",
        planUrl: pickLang(s.links?.plan, UI_LANG),
        deviceUrl: pickLang(s.links?.device, UI_LANG),
      }))
      .filter((x) => x.title || x.planUrl || x.deviceUrl);

    if (!normalized.length) {
      empty.style.display = "block";
      return;
    }
    empty.style.display = "none";

    const n = normalized.length;
    let cols = Math.min(4, n);
    if (n > 4 && n % 2 === 0) cols = n / 2;
    wrap.style.gridTemplateColumns = `repeat(${cols}, minmax(0, 1fr))`;

    const labelPlan = UI_LANG === "fr" ? "Forfaits" : "Plans";
    const labelDevice = UI_LANG === "fr" ? "Appareils" : "Devices";

    for (const s of normalized) {
      const card = document.createElement("div");
      card.className = "compCard";

      const head = document.createElement("div");
      head.className = "compHeader";

      if (s.icon) {
        const img = document.createElement("img");
        img.className = "compLogo";
        img.alt = "";
        img.loading = "lazy";
        img.src = s.icon;
        img.onerror = () => {
          img.style.display = "none";
        };
        head.appendChild(img);
      }

      const title = document.createElement("div");
      title.className = "compTitle";
      title.innerHTML = escapeHtml(s.title || "");
      head.appendChild(title);

      const btns = document.createElement("div");
      btns.className = "compBtns";
      btns.appendChild(createTextOnlyButton(labelPlan, s.planUrl));
      btns.appendChild(createTextOnlyButton(labelDevice, s.deviceUrl));

      card.appendChild(head);
      card.appendChild(btns);
      wrap.appendChild(card);
    }
  }

  function renderReports(list) {
    const grid = document.getElementById("reportsGrid");
    const empty = document.getElementById("reportsEmpty");
    grid.innerHTML = "";

    const normalized = (list || [])
      .map((r) => ({
        badge: String(r.badge ?? "").trim(),
        title: pickLang(r.title, UI_LANG),
        url: pickLang(r.url, UI_LANG),
      }))
      .filter((x) => !!x.url);

    if (!normalized.length) {
      empty.style.display = "block";
      return;
    }
    empty.style.display = "none";

    for (const it of normalized) grid.appendChild(createReportButton(it));
  }

  // (Theme)
  const THEME_KEY = "repaccess_theme"; // "dark" | "light"

  function applyTheme(theme) {
    const isLight = theme === "light";

    // 1) th√®me via classe sur le body
    document.body.classList.toggle("theme-light", isLight);

    // 2) switch position
    const sw = document.getElementById("themeSwitch");
    if (sw) sw.checked = isLight;

    // 3) opacit√© des ic√¥nes
    const toggle = document.getElementById("themeToggle");
    if (toggle) toggle.classList.toggle("is-light", isLight);

    updateThemedImages(isLight);
  }

  function initTheme() {
    // d√©faut = sombre (comme tu veux)
    const saved = localStorage.getItem(THEME_KEY);
    applyTheme(saved === "light" ? "light" : "dark");

    const sw = document.getElementById("themeSwitch");
    if (sw) {
      sw.addEventListener("change", () => {
        const theme = sw.checked ? "light" : "dark";
        localStorage.setItem(THEME_KEY, theme);
        applyTheme(theme);
      });
    }
  }

  // (Store lookup)
  function setupStoreLookup() {
    const input = document.getElementById("storeInput");
    const err = document.getElementById("storeError");
    const modal = document.getElementById("storeModal");
    const close = document.getElementById("storeModalClose");

    const clearError = () => {
      input.classList.remove("error");
      err.style.display = "none";
    };

    const showError = (msg) => {
      input.classList.add("error");
      err.textContent = msg || (UI_LANG === "fr" ? "Aucun r√©sultat" : "No results");
      err.style.display = "block";
    };

    const openModal = () => {
      modal.style.display = "flex";
    };
    const closeModal = () => {
      modal.style.display = "none";
    };

    close.addEventListener("click", closeModal);
    modal.addEventListener("click", (e) => {
      if (e.target === modal) closeModal();
    });
    document.addEventListener("keydown", (e) => {
      if (e.key === "Escape") closeModal();
    });

    function runLookup() {
      if (!APP_DATA) {
        showError(UI_LANG === "fr" ? "Donn√©es non charg√©es" : "Data not loaded");
        return;
      }

      const raw = String(input.value || "").trim();
      clearError();

      if (!/^\d{1,5}$/.test(raw)) {
        if (raw.length) showError(UI_LANG === "fr" ? "Entrez 1 √† 5 chiffres" : "Enter 1‚Äì5 digits");
        return;
      }

      const map = APP_DATA?.sections?.boutique || {};
      const items = map[raw];

      if (!items || !items.length) {
        showError(UI_LANG === "fr" ? "Aucun r√©sultat" : "No results");
        return;
      }

      const normalized = items
        .map((b) => ({
          title: pickLang(b.title, UI_LANG),
          url: pickLang(b.url, UI_LANG),
          icon: b.icon || "",
        }))
        .filter((x) => !!x.url);

      if (!normalized.length) {
        showError(UI_LANG === "fr" ? "Aucun lien dans cette langue" : "No links in this language");
        return;
      }

      document.getElementById("storeModalTitle").textContent =
        (UI_LANG === "fr" ? "Boutique " : "Store ") + raw;

      const grid = document.getElementById("storeModalButtons");
      const empty = document.getElementById("storeModalEmpty");

      // ‚úÖ Force 3-column layout + centering behavior
      grid.classList.remove("cols-1", "cols-2", "cols-3");
      grid.classList.add("cols-" + Math.min(3, normalized.length));

      grid.innerHTML = "";

      // ‚úÖ On place les boutons en "btn-large", chacun occupe une colonne;
      // si 1 ou 2, la grille reste de 3 colonnes et se centre gr√¢ce √† max-width + margin:auto
      for (const it of normalized.slice(0, 3)) {
        grid.appendChild(createButton(it, "btn-large"));
      }

      empty.style.display = normalized.length ? "none" : "block";
      openModal();
    }

    input.addEventListener("input", () => {
      input.value = input.value.replace(/[^\d]/g, "").slice(0, 5);
      clearError();
    });

    input.addEventListener("keydown", (e) => {
      if (e.key === "Enter") runLookup();
    });
  }



  // (Themed images)
  function updateThemedImages(isLight) {
    document.querySelectorAll("img.theme-img").forEach((img) => {
      const newSrc = isLight ? img.dataset.srcLight : img.dataset.srcDark;
      if (newSrc && img.src !== newSrc) img.src = newSrc;
    });
  }

  // (Boot)
  initTheme();
  setupStoreLookup();
  load();
</script>


</body>
</html>
